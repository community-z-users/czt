\documentclass{llncs}
\usepackage{pt}
\usepackage{units}
\usepackage{coz}
\usepackage{epsf}
\usepackage{lncsexample}
\conttrue
\def\kph{\km \mulnuit{\hour}{-1}}
\begin{document}
\begin{zed}
[ADDR, PAGE]
\end{zed}

\begin{zed}
DATABASE == ADDR \fun PAGE
\end{zed}

\begin{schema}{CheckSys}
working: DATABASE \\
backup: DATABASE 
\end{schema}

\begin{schema}{Access}
\Xi CheckSys \\
a? : ADDR \\
p! : PAGE
\where
p! = working(a?)
\end{schema}

\begin{schema}{Update}
\Delta CheckSys \\
a? : ADDR \\
p? : PAGE
\where
working' = working \oplus \{a? \mapsto p? \} \\
backup' = backup
\end{schema}

\begin{schema}{CheckPoint}
\Delta CheckSys
\where
working' = working \\
backup' = working
\end{schema}

\begin{schema}{Restart}
\Delta CheckSys
\where
working' = backup \\
backup' = backup
\end{schema}

\begin{schema}{Master}
master : DATABASE
\end{schema}

\begin{schema}{Changes}
changes : ADDR \pfun PAGE
\end{schema}

\begin{schema}{CheckSys1}
Master \\
Changes
\end{schema}

\begin{schema}{Abs}
CheckSys \\
CheckSys1 
\where
backup = master \\
working = master \oplus changes
\end{schema}

\begin{schema}{ReadMaster}
\Xi Master \\
a? : ADDR \\
p! : PAGE
\where
p! = master(a?)
\end{schema}

\begin{schema}{Update1}
\Delta CheckSys1 \\
a? : ADDR \\
p? : PAGE
\where
master' = master \\
changes' = changes \oplus \{a? \mapsto p? \}
\end{schema}

\begin{schema}{CheckPoint1}
\Delta CheckSys1  
\where 
master' = master \oplus changes \\
changes' = \emptyset
\end{schema}

\begin{schema}{Restart1}
\Delta CheckSys1 
\where master' = master \\
changes' = \emptyset
\end{schema}
\end{document}
