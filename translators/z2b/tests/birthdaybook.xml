<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE unicode SYSTEM "unicode.dtd">
<Spec xmlns="http://czt.sourceforge.net/zml"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://czt.sourceforge.net/zml http://czt.sourceforge.net/zml/Z_1_1.xsd "
 Version="1.1">
  <ZSect>
    <Name>birthdaybook_unfolded</Name>
    <NarrPara>
        <Content>
          \ documentclass { article } \ usepackage { oz } % oz or z - eves or fuzz styles \ newenvironment { machine } [ 1 ] { \ begin { tabular } { @ { \ qquad } l } \ textbf { \ kern - 1em machine } \ # 1 \ \ } { \ \ \ textbf { \ kern - 1em end } \ end { tabular } } \ newcommand { \ machineInit } { \ \ \ textbf { \ kern - 1em init } \ \ } \ newcommand { \ machineOps } { \ \ \ textbf { \ kern - 1em ops } \ \ } \ begin { document } This is the BirthdayBook specification , from Spivey \ cite { spivey : z - notation2 } . We extend it slightlyby adding an extra operation , $ RemindOne $ , that is non - deterministic . % [ NAME , DATE ] 
        </Content>
    </NarrPara>
    <AxPara Box="OmitBox">
      <SchText>
        <ConstDecl>
          <DeclName>
            <Word>NAME</Word>
          </DeclName>
          <ApplExpr>
            <RefExpr>
              <RefName>
                <Word>&upto;</Word>
              </RefName>
            </RefExpr>
            <TupleExpr>
              <RefExpr>
                <RefName>
                  <Word>1</Word>
                </RefName>
              </RefExpr>
              <RefExpr>
                <RefName>
                  <Word>5</Word>
                </RefName>
              </RefExpr>
            </TupleExpr>
          </ApplExpr>
        </ConstDecl>
      </SchText>
    </AxPara>
    <AxPara Box="OmitBox">
      <SchText>
        <ConstDecl>
          <DeclName>
            <Word>DATE</Word>
          </DeclName>
          <ApplExpr>
            <RefExpr>
              <RefName>
                <Word>&upto;</Word>
              </RefName>
            </RefExpr>
            <TupleExpr>
              <RefExpr>
                <RefName>
                  <Word>10</Word>
                </RefName>
              </RefExpr>
              <RefExpr>
                <RefName>
                  <Word>15</Word>
                </RefName>
              </RefExpr>
            </TupleExpr>
          </ApplExpr>
        </ConstDecl>
      </SchText>
    </AxPara>
    <NarrPara>
        <Content>
          The $ BirthdayBook $ schema defines the \ emph { state space } of the birthday book system . 
        </Content>
    </NarrPara>
    <AxPara Box="SchBox">
      <SchText>
        <ConstDecl>
          <DeclName>
            <Word>BirthdayBook</Word>
          </DeclName>
          <SchExpr>
            <SchText>
              <VarDecl>
                <DeclName>
                  <Word>known</Word>
                </DeclName>
                <PowerExpr>
                  <RefExpr>
                    <RefName>
                      <Word>NAME</Word>
                    </RefName>
                  </RefExpr>
                </PowerExpr>
              </VarDecl>
              <VarDecl>
                <DeclName>
                  <Word>birthday</Word>
                </DeclName>
                <RefExpr Mixfix="true">
                  <RefName>
                    <Word>&pfun;</Word>
                  </RefName>
                  <RefExpr>
                    <RefName>
                      <Word>NAME</Word>
                    </RefName>
                  </RefExpr>
                  <RefExpr>
                    <RefName>
                      <Word>DATE</Word>
                    </RefName>
                  </RefExpr>
                </RefExpr>
              </VarDecl>
              <MemPred>
                <TupleExpr>
                  <RefExpr>
                    <RefName>
                      <Word>known</Word>
                    </RefName>
                  </RefExpr>
                  <RefExpr Mixfix="true">
                    <RefName>
                      <Word>dom</Word>
                    </RefName>
                    <RefExpr>
                      <RefName>
                        <Word>birthday</Word>
                      </RefName>
                    </RefExpr>
                  </RefExpr>
                </TupleExpr>
                <RefExpr>
                  <RefName>
                    <Word>=</Word>
                  </RefName>
                </RefExpr>
              </MemPred>
            </SchText>
          </SchExpr>
        </ConstDecl>
      </SchText>
    </AxPara>
    <NarrPara>
        <Content>
          This $ InitBirthdayBook $ specifies the initial stateof the birthday book system . It does not say explicitly that $ birthday' $ is empty , but that is implicit , because its domainis empty . 
        </Content>
    </NarrPara>
    <AxPara Box="SchBox">
      <SchText>
        <ConstDecl>
          <DeclName>
            <Word>InitBirthdayBook</Word>
          </DeclName>
          <SchExpr>
            <SchText>
              <VarDecl>
                <DeclName>
                  <Word>known</Word>
                  
                </DeclName>
                <PowerExpr>
                  <RefExpr>
                    <RefName>
                      <Word>NAME</Word>
                    </RefName>
                  </RefExpr>
                </PowerExpr>
              </VarDecl>
              <VarDecl>
                <DeclName>
                  <Word>birthday</Word>
                  
                </DeclName>
                <RefExpr Mixfix="true">
                  <RefName>
                    <Word>&pfun;</Word>
                  </RefName>
                  <RefExpr>
                    <RefName>
                      <Word>NAME</Word>
                    </RefName>
                  </RefExpr>
                  <RefExpr>
                    <RefName>
                      <Word>DATE</Word>
                    </RefName>
                  </RefExpr>
                </RefExpr>
              </VarDecl>
              <AndPred Op="NL">
                <MemPred>
                  <TupleExpr>
                    <RefExpr>
                      <RefName>
                        <Word>known</Word>
                        
                      </RefName>
                    </RefExpr>
                    <RefExpr Mixfix="true">
                      <RefName>
                        <Word>dom</Word>
                      </RefName>
                      <RefExpr>
                        <RefName>
                          <Word>birthday</Word>
                          
                        </RefName>
                      </RefExpr>
                    </RefExpr>
                  </TupleExpr>
                  <RefExpr>
                    <RefName>
                      <Word>=</Word>
                    </RefName>
                  </RefExpr>
                </MemPred>
                <MemPred>
                  <TupleExpr>
                    <RefExpr>
                      <RefName>
                        <Word>known</Word>
                        
                      </RefName>
                    </RefExpr>
                    <SetExpr/>
                  </TupleExpr>
                  <RefExpr>
                    <RefName>
                      <Word>=</Word>
                    </RefName>
                  </RefExpr>
                </MemPred>
              </AndPred>
            </SchText>
          </SchExpr>
        </ConstDecl>
      </SchText>
    </AxPara>
    <NarrPara>
        <Content>
          Next we have several operation schemas to define the normal ( non - error ) behaviour of the system . 
        </Content>
    </NarrPara>
    <AxPara Box="SchBox">
      <SchText>
        <ConstDecl>
          <DeclName>
            <Word>AddBirthday</Word>
          </DeclName>
          <SchExpr>
            <SchText>
              <VarDecl>
                <DeclName>
                  <Word>known</Word>
                </DeclName>
                <DeclName>
                  <Word>known</Word>
                  <NextStroke/>
                </DeclName>
                <PowerExpr>
                  <RefExpr>
                    <RefName>
                      <Word>NAME</Word>
                    </RefName>
                  </RefExpr>
                </PowerExpr>
              </VarDecl>
              <VarDecl>
                <DeclName>
                  <Word>birthday</Word>
                </DeclName>
                <DeclName>
                  <Word>birthday</Word>
                  <NextStroke/>
                </DeclName>
                <RefExpr Mixfix="true">
                  <RefName>
                    <Word>&pfun;</Word>
                  </RefName>
                  <RefExpr>
                    <RefName>
                      <Word>NAME</Word>
                    </RefName>
                  </RefExpr>
                  <RefExpr>
                    <RefName>
                      <Word>DATE</Word>
                    </RefName>
                  </RefExpr>
                </RefExpr>
              </VarDecl>
              <VarDecl>
                <DeclName>
                  <Word>name</Word>
                  <InStroke/>
                </DeclName>
                <RefExpr>
                  <RefName>
                    <Word>NAME</Word>
                  </RefName>
                </RefExpr>
              </VarDecl>
              <VarDecl>
                <DeclName>
                  <Word>date</Word>
                  <InStroke/>
                </DeclName>
                <RefExpr>
                  <RefName>
                    <Word>DATE</Word>
                  </RefName>
                </RefExpr>
              </VarDecl>
              <AndPred Op="NL">
                <AndPred Op="NL">
                  <AndPred Op="NL">
                    <MemPred>
                      <TupleExpr>
                        <RefExpr>
                          <RefName>
                            <Word>known</Word>
                          </RefName>
                        </RefExpr>
                        <RefExpr Mixfix="true">
                          <RefName>
                            <Word>dom</Word>
                          </RefName>
                          <RefExpr>
                            <RefName>
                              <Word>birthday</Word>
                            </RefName>
                          </RefExpr>
                        </RefExpr>
                      </TupleExpr>
                      <RefExpr>
                        <RefName>
                          <Word>=</Word>
                        </RefName>
                      </RefExpr>
                    </MemPred>
                    <MemPred>
                      <TupleExpr>
                        <RefExpr>
                          <RefName>
                            <Word>known</Word>
                            <NextStroke/>
                          </RefName>
                        </RefExpr>
                        <RefExpr Mixfix="true">
                          <RefName>
                            <Word>dom</Word>
                          </RefName>
                          <RefExpr>
                            <RefName>
                              <Word>birthday</Word>
                              <NextStroke/>
                            </RefName>
                          </RefExpr>
                        </RefExpr>
                      </TupleExpr>
                      <RefExpr>
                        <RefName>
                          <Word>=</Word>
                        </RefName>
                      </RefExpr>
                    </MemPred>
                  </AndPred>
                  <MemPred>
                    <TupleExpr>
                      <RefExpr>
                        <RefName>
                          <Word>name</Word>
                          <InStroke/>
                        </RefName>
                      </RefExpr>
                      <RefExpr>
                        <RefName>
                          <Word>known</Word>
                        </RefName>
                      </RefExpr>
                    </TupleExpr>
                    <RefExpr>
                      <RefName>
                        <Word>&nem;</Word>
                      </RefName>
                    </RefExpr>
                  </MemPred>
                </AndPred>
                <MemPred>
                  <TupleExpr>
                    <RefExpr>
                      <RefName>
                        <Word>birthday</Word>
                        <NextStroke/>
                      </RefName>
                    </RefExpr>
                    <ApplExpr>
                      <RefExpr>
                        <RefName>
                          <Word>&uni;</Word>
                        </RefName>
                      </RefExpr>
                      <TupleExpr>
                        <RefExpr>
                          <RefName>
                            <Word>birthday</Word>
                          </RefName>
                        </RefExpr>
                        <SetExpr>
                          <ApplExpr>
                            <RefExpr>
                              <RefName>
                                <Word>&map;</Word>
                              </RefName>
                            </RefExpr>
                            <TupleExpr>
                              <RefExpr>
                                <RefName>
                                  <Word>name</Word>
                                  <InStroke/>
                                </RefName>
                              </RefExpr>
                              <RefExpr>
                                <RefName>
                                  <Word>date</Word>
                                  <InStroke/>
                                </RefName>
                              </RefExpr>
                            </TupleExpr>
                          </ApplExpr>
                        </SetExpr>
                      </TupleExpr>
                    </ApplExpr>
                  </TupleExpr>
                  <RefExpr>
                    <RefName>
                      <Word>=</Word>
                    </RefName>
                  </RefExpr>
                </MemPred>
              </AndPred>
            </SchText>
          </SchExpr>
        </ConstDecl>
      </SchText>
    </AxPara>
    <AxPara Box="SchBox">
      <SchText>
        <ConstDecl>
          <DeclName>
            <Word>FindBirthday</Word>
          </DeclName>
          <SchExpr>
            <SchText>
              <VarDecl>
                <DeclName>
                  <Word>known</Word>
                </DeclName>
                <DeclName>
                  <Word>known</Word>
                  <NextStroke/>
                </DeclName>
                <PowerExpr>
                  <RefExpr>
                    <RefName>
                      <Word>NAME</Word>
                    </RefName>
                  </RefExpr>
                </PowerExpr>
              </VarDecl>
              <VarDecl>
                <DeclName>
                  <Word>birthday</Word>
                </DeclName>
                <DeclName>
                  <Word>birthday</Word>
                  <NextStroke/>
                </DeclName>
                <RefExpr Mixfix="true">
                  <RefName>
                    <Word>&pfun;</Word>
                  </RefName>
                  <RefExpr>
                    <RefName>
                      <Word>NAME</Word>
                    </RefName>
                  </RefExpr>
                  <RefExpr>
                    <RefName>
                      <Word>DATE</Word>
                    </RefName>
                  </RefExpr>
                </RefExpr>
              </VarDecl>
              <VarDecl>
                <DeclName>
                  <Word>name</Word>
                  <InStroke/>
                </DeclName>
                <RefExpr>
                  <RefName>
                    <Word>NAME</Word>
                  </RefName>
                </RefExpr>
              </VarDecl>
              <VarDecl>
                <DeclName>
                  <Word>date</Word>
                  <OutStroke/>
                </DeclName>
                <RefExpr>
                  <RefName>
                    <Word>DATE</Word>
                  </RefName>
                </RefExpr>
              </VarDecl>
              <AndPred Op="NL">
                <AndPred Op="NL">
                  <AndPred Op="NL">
                    <AndPred Op="NL">
                      <AndPred Op="NL">
                        <MemPred>
                          <TupleExpr>
                            <RefExpr>
                              <RefName>
                                <Word>known</Word>
                              </RefName>
                            </RefExpr>
                            <RefExpr Mixfix="true">
                              <RefName>
                                <Word>dom</Word>
                              </RefName>
                              <RefExpr>
                                <RefName>
                                  <Word>birthday</Word>
                                </RefName>
                              </RefExpr>
                            </RefExpr>
                          </TupleExpr>
                          <RefExpr>
                            <RefName>
                              <Word>=</Word>
                            </RefName>
                          </RefExpr>
                        </MemPred>
                        <MemPred>
                          <TupleExpr>
                            <RefExpr>
                              <RefName>
                                <Word>known</Word>
                                <NextStroke/>
                              </RefName>
                            </RefExpr>
                            <RefExpr Mixfix="true">
                              <RefName>
                                <Word>dom</Word>
                              </RefName>
                              <RefExpr>
                                <RefName>
                                  <Word>birthday</Word>
                                  <NextStroke/>
                                </RefName>
                              </RefExpr>
                            </RefExpr>
                          </TupleExpr>
                          <RefExpr>
                            <RefName>
                              <Word>=</Word>
                            </RefName>
                          </RefExpr>
                        </MemPred>
                      </AndPred>
                      <MemPred>
                        <TupleExpr>
                          <RefExpr>
                            <RefName>
                              <Word>known</Word>
                              <NextStroke/>
                            </RefName>
                          </RefExpr>
                          <RefExpr>
                            <RefName>
                              <Word>known</Word>
                            </RefName>
                          </RefExpr>
                        </TupleExpr>
                        <RefExpr>
                          <RefName>
                            <Word>=</Word>
                          </RefName>
                        </RefExpr>
                      </MemPred>
                    </AndPred>
                    <MemPred>
                      <TupleExpr>
                        <RefExpr>
                          <RefName>
                            <Word>birthday</Word>
                            <NextStroke/>
                          </RefName>
                        </RefExpr>
                        <RefExpr>
                          <RefName>
                            <Word>birthday</Word>
                          </RefName>
                        </RefExpr>
                      </TupleExpr>
                      <RefExpr>
                        <RefName>
                          <Word>=</Word>
                        </RefName>
                      </RefExpr>
                    </MemPred>
                  </AndPred>
                  <MemPred>
                    <TupleExpr>
                      <RefExpr>
                        <RefName>
                          <Word>name</Word>
                          <InStroke/>
                        </RefName>
                      </RefExpr>
                      <RefExpr>
                        <RefName>
                          <Word>known</Word>
                        </RefName>
                      </RefExpr>
                    </TupleExpr>
                    <RefExpr>
                      <RefName>
                        <Word>&mem;</Word>
                      </RefName>
                    </RefExpr>
                  </MemPred>
                </AndPred>
                <MemPred>
                  <TupleExpr>
                    <RefExpr>
                      <RefName>
                        <Word>date</Word>
                        <OutStroke/>
                      </RefName>
                    </RefExpr>
                    <ApplExpr>
                      <RefExpr>
                        <RefName>
                          <Word>birthday</Word>
                        </RefName>
                      </RefExpr>
                      <RefExpr>
                        <RefName>
                          <Word>name</Word>
                          <InStroke/>
                        </RefName>
                      </RefExpr>
                    </ApplExpr>
                  </TupleExpr>
                  <RefExpr>
                    <RefName>
                      <Word>=</Word>
                    </RefName>
                  </RefExpr>
                </MemPred>
              </AndPred>
            </SchText>
          </SchExpr>
        </ConstDecl>
      </SchText>
    </AxPara>
    <AxPara Box="SchBox">
      <SchText>
        <ConstDecl>
          <DeclName>
            <Word>Remind</Word>
          </DeclName>
          <SchExpr>
            <SchText>
              <VarDecl>
                <DeclName>
                  <Word>known</Word>
                </DeclName>
                <DeclName>
                  <Word>known</Word>
                  <NextStroke/>
                </DeclName>
                <PowerExpr>
                  <RefExpr>
                    <RefName>
                      <Word>NAME</Word>
                    </RefName>
                  </RefExpr>
                </PowerExpr>
              </VarDecl>
              <VarDecl>
                <DeclName>
                  <Word>birthday</Word>
                </DeclName>
                <DeclName>
                  <Word>birthday</Word>
                  <NextStroke/>
                </DeclName>
                <RefExpr Mixfix="true">
                  <RefName>
                    <Word>&pfun;</Word>
                  </RefName>
                  <RefExpr>
                    <RefName>
                      <Word>NAME</Word>
                    </RefName>
                  </RefExpr>
                  <RefExpr>
                    <RefName>
                      <Word>DATE</Word>
                    </RefName>
                  </RefExpr>
                </RefExpr>
              </VarDecl>
              <VarDecl>
                <DeclName>
                  <Word>today</Word>
                  <InStroke/>
                </DeclName>
                <RefExpr>
                  <RefName>
                    <Word>DATE</Word>
                  </RefName>
                </RefExpr>
              </VarDecl>
              <VarDecl>
                <DeclName>
                  <Word>cards</Word>
                  <OutStroke/>
                </DeclName>
                <PowerExpr>
                  <RefExpr>
                    <RefName>
                      <Word>NAME</Word>
                    </RefName>
                  </RefExpr>
                </PowerExpr>
              </VarDecl>
              <AndPred Op="NL">
                <AndPred Op="NL">
                  <AndPred Op="NL">
                    <AndPred Op="NL">
                      <MemPred>
                        <TupleExpr>
                          <RefExpr>
                            <RefName>
                              <Word>known</Word>
                            </RefName>
                          </RefExpr>
                          <RefExpr Mixfix="true">
                            <RefName>
                              <Word>dom</Word>
                            </RefName>
                            <RefExpr>
                              <RefName>
                                <Word>birthday</Word>
                              </RefName>
                            </RefExpr>
                          </RefExpr>
                        </TupleExpr>
                        <RefExpr>
                          <RefName>
                            <Word>=</Word>
                          </RefName>
                        </RefExpr>
                      </MemPred>
                      <MemPred>
                        <TupleExpr>
                          <RefExpr>
                            <RefName>
                              <Word>known</Word>
                              <NextStroke/>
                            </RefName>
                          </RefExpr>
                          <RefExpr Mixfix="true">
                            <RefName>
                              <Word>dom</Word>
                            </RefName>
                            <RefExpr>
                              <RefName>
                                <Word>birthday</Word>
                                <NextStroke/>
                              </RefName>
                            </RefExpr>
                          </RefExpr>
                        </TupleExpr>
                        <RefExpr>
                          <RefName>
                            <Word>=</Word>
                          </RefName>
                        </RefExpr>
                      </MemPred>
                    </AndPred>
                    <MemPred>
                      <TupleExpr>
                        <RefExpr>
                          <RefName>
                            <Word>known</Word>
                            <NextStroke/>
                          </RefName>
                        </RefExpr>
                        <RefExpr>
                          <RefName>
                            <Word>known</Word>
                          </RefName>
                        </RefExpr>
                      </TupleExpr>
                      <RefExpr>
                        <RefName>
                          <Word>=</Word>
                        </RefName>
                      </RefExpr>
                    </MemPred>
                  </AndPred>
                  <MemPred>
                    <TupleExpr>
                      <RefExpr>
                        <RefName>
                          <Word>birthday</Word>
                          <NextStroke/>
                        </RefName>
                      </RefExpr>
                      <RefExpr>
                        <RefName>
                          <Word>birthday</Word>
                        </RefName>
                      </RefExpr>
                    </TupleExpr>
                    <RefExpr>
                      <RefName>
                        <Word>=</Word>
                      </RefName>
                    </RefExpr>
                  </MemPred>
                </AndPred>
                <MemPred>
                  <TupleExpr>
                    <RefExpr>
                      <RefName>
                        <Word>cards</Word>
                        <OutStroke/>
                      </RefName>
                    </RefExpr>
                    <SetCompExpr>
                      <SchText>
                        <VarDecl>
                          <DeclName>
                            <Word>n</Word>
                          </DeclName>
                          <RefExpr>
                            <RefName>
                              <Word>known</Word>
                            </RefName>
                          </RefExpr>
                        </VarDecl>
                        <MemPred>
                          <TupleExpr>
                            <ApplExpr>
                              <RefExpr>
                                <RefName>
                                  <Word>birthday</Word>
                                </RefName>
                              </RefExpr>
                              <RefExpr>
                                <RefName>
                                  <Word>n</Word>
                                </RefName>
                              </RefExpr>
                            </ApplExpr>
                            <RefExpr>
                              <RefName>
                                <Word>today</Word>
                                <InStroke/>
                              </RefName>
                            </RefExpr>
                          </TupleExpr>
                          <RefExpr>
                            <RefName>
                              <Word>=</Word>
                            </RefName>
                          </RefExpr>
                        </MemPred>
                      </SchText>
                    </SetCompExpr>
                  </TupleExpr>
                  <RefExpr>
                    <RefName>
                      <Word>=</Word>
                    </RefName>
                  </RefExpr>
                </MemPred>
              </AndPred>
            </SchText>
          </SchExpr>
        </ConstDecl>
      </SchText>
    </AxPara>
    <NarrPara>
        <Content>
          This $ RemindOne $ schema does not appear in Spivey , but isincluded to show how non - deterministic schemas can be animated . It reminds us of just one person who has a birthday on the given day . 
        </Content>
    </NarrPara>
    <AxPara Box="SchBox">
      <SchText>
        <ConstDecl>
          <DeclName>
            <Word>RemindOne</Word>
          </DeclName>
          <SchExpr>
            <SchText>
              <VarDecl>
                <DeclName>
                  <Word>known</Word>
                </DeclName>
                <DeclName>
                  <Word>known</Word>
                  <NextStroke/>
                </DeclName>
                <PowerExpr>
                  <RefExpr>
                    <RefName>
                      <Word>NAME</Word>
                    </RefName>
                  </RefExpr>
                </PowerExpr>
              </VarDecl>
              <VarDecl>
                <DeclName>
                  <Word>birthday</Word>
                </DeclName>
                <DeclName>
                  <Word>birthday</Word>
                  <NextStroke/>
                </DeclName>
                <RefExpr Mixfix="true">
                  <RefName>
                    <Word>&pfun;</Word>
                  </RefName>
                  <RefExpr>
                    <RefName>
                      <Word>NAME</Word>
                    </RefName>
                  </RefExpr>
                  <RefExpr>
                    <RefName>
                      <Word>DATE</Word>
                    </RefName>
                  </RefExpr>
                </RefExpr>
              </VarDecl>
              <VarDecl>
                <DeclName>
                  <Word>today</Word>
                  <InStroke/>
                </DeclName>
                <RefExpr>
                  <RefName>
                    <Word>DATE</Word>
                  </RefName>
                </RefExpr>
              </VarDecl>
              <VarDecl>
                <DeclName>
                  <Word>card</Word>
                  <OutStroke/>
                </DeclName>
                <RefExpr>
                  <RefName>
                    <Word>NAME</Word>
                  </RefName>
                </RefExpr>
              </VarDecl>
              <AndPred Op="NL">
                <AndPred Op="NL">
                  <AndPred Op="NL">
                    <AndPred Op="NL">
                      <AndPred Op="NL">
                        <MemPred>
                          <TupleExpr>
                            <RefExpr>
                              <RefName>
                                <Word>known</Word>
                              </RefName>
                            </RefExpr>
                            <RefExpr Mixfix="true">
                              <RefName>
                                <Word>dom</Word>
                              </RefName>
                              <RefExpr>
                                <RefName>
                                  <Word>birthday</Word>
                                </RefName>
                              </RefExpr>
                            </RefExpr>
                          </TupleExpr>
                          <RefExpr>
                            <RefName>
                              <Word>=</Word>
                            </RefName>
                          </RefExpr>
                        </MemPred>
                        <MemPred>
                          <TupleExpr>
                            <RefExpr>
                              <RefName>
                                <Word>known</Word>
                                <NextStroke/>
                              </RefName>
                            </RefExpr>
                            <RefExpr Mixfix="true">
                              <RefName>
                                <Word>dom</Word>
                              </RefName>
                              <RefExpr>
                                <RefName>
                                  <Word>birthday</Word>
                                  <NextStroke/>
                                </RefName>
                              </RefExpr>
                            </RefExpr>
                          </TupleExpr>
                          <RefExpr>
                            <RefName>
                              <Word>=</Word>
                            </RefName>
                          </RefExpr>
                        </MemPred>
                      </AndPred>
                      <MemPred>
                        <TupleExpr>
                          <RefExpr>
                            <RefName>
                              <Word>known</Word>
                              <NextStroke/>
                            </RefName>
                          </RefExpr>
                          <RefExpr>
                            <RefName>
                              <Word>known</Word>
                            </RefName>
                          </RefExpr>
                        </TupleExpr>
                        <RefExpr>
                          <RefName>
                            <Word>=</Word>
                          </RefName>
                        </RefExpr>
                      </MemPred>
                    </AndPred>
                    <MemPred>
                      <TupleExpr>
                        <RefExpr>
                          <RefName>
                            <Word>birthday</Word>
                            <NextStroke/>
                          </RefName>
                        </RefExpr>
                        <RefExpr>
                          <RefName>
                            <Word>birthday</Word>
                          </RefName>
                        </RefExpr>
                      </TupleExpr>
                      <RefExpr>
                        <RefName>
                          <Word>=</Word>
                        </RefName>
                      </RefExpr>
                    </MemPred>
                  </AndPred>
                  <MemPred>
                    <TupleExpr>
                      <RefExpr>
                        <RefName>
                          <Word>card</Word>
                          <OutStroke/>
                        </RefName>
                      </RefExpr>
                      <RefExpr>
                        <RefName>
                          <Word>known</Word>
                        </RefName>
                      </RefExpr>
                    </TupleExpr>
                    <RefExpr>
                      <RefName>
                        <Word>&mem;</Word>
                      </RefName>
                    </RefExpr>
                  </MemPred>
                </AndPred>
                <MemPred>
                  <TupleExpr>
                    <ApplExpr>
                      <RefExpr>
                        <RefName>
                          <Word>birthday</Word>
                        </RefName>
                      </RefExpr>
                      <RefExpr>
                        <RefName>
                          <Word>card</Word>
                          <OutStroke/>
                        </RefName>
                      </RefExpr>
                    </ApplExpr>
                    <RefExpr>
                      <RefName>
                        <Word>today</Word>
                        <InStroke/>
                      </RefName>
                    </RefExpr>
                  </TupleExpr>
                  <RefExpr>
                    <RefName>
                      <Word>=</Word>
                    </RefName>
                  </RefExpr>
                </MemPred>
              </AndPred>
            </SchText>
          </SchExpr>
        </ConstDecl>
      </SchText>
    </AxPara>
    <NarrPara>
        <Content>
          Now we strengthen the specification by adding error handling . 
        </Content>
    </NarrPara>
    <FreePara>
      <Freetype>
        <DeclName>
          <Word>REPORT</Word>
        </DeclName>
        <Branch>
          <DeclName>
            <Word>ok</Word>
          </DeclName>
        </Branch>
        <Branch>
          <DeclName>
            <Word>already\_known</Word>
          </DeclName>
        </Branch>
        <Branch>
          <DeclName>
            <Word>not\_known</Word>
          </DeclName>
        </Branch>
      </Freetype>
    </FreePara>
  </ZSect>
</Spec>
