<?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" 
"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">

<svg
width="100%"
height="200"
version="1.1"
onload="init()"
xmlns="http://www.w3.org/2000/svg">

<script type="text/ecmascript">
<![CDATA[

// This file is an example SVG+JavaScript document for displaying
// a Z paragraph in which well-formed formulae can be selected by
// clicking the mouse.  Contributed to CZT by Ian Toyn and Petra Malik.

// Global state:
var curWff = null;		// The currently selected well-formed formula

// init -- initialisation of global state.
// This is the handler for event onload.
function init()
{
}

// inSelected -- is the given wff in the current wff?
function inSelected(wff)
{
	if (wff.getAttribute("id") == "wff_root" || curWff == null) {
		return (false);
	} else if (wff == curWff) {
		return (true);
	} else {
		return (inSelected(wff.getParentNode()));
	}
}

// deselect -- make there be no current selection.
// This is the handler for event onclick on the background rect.
function deselect()
{
	if (curWff != null) {
		curWff.removeAttribute("fill");
	}
	curWff = null;
}

// select -- adjust the current selection appropriately.
// This is the handler for event onclick on a text.
function select(evt)
{
	var selText = evt.getTarget();
	if (curWff != null) {
		curWff.removeAttribute("fill");
	}
	if (inSelected(selText.getParentNode()) && curWff.getParentNode() != null) {
		curWff = curWff.getParentNode();
	} else {
		curWff = selText.getParentNode();
	}
	curWff.setAttribute("fill", "white");
}

]]>
</script>

<rect x="10" y="10" width="400" height="200" fill="silver" outline="none" onclick="deselect()"/>
<g id="wff_root" fill="black">
  <line x1="30" y1="50" x2="45" y2="50" stroke="black"
    onclick="deselect()"/>
  <line x1="130" y1="50" x2="220" y2="50" stroke="black"
    onclick="deselect()"/>
  <line x1="220" y1="50" x2="220" y2="60" stroke="black"
    onclick="deselect()"/>
  <g><text x="50" y="50" font-family="CZT"
    onclick="select(evt)">BirthdayBook</text></g>
  <g>
    <g><text x="50" y="80" font-family="CZT"
      onclick="select(evt)">known</text></g>
    <text x="95" y="80" font-family="CZT"
      onclick="select(evt)">:</text>
    <g>
      <text x="105" y="80" font-family="CZT"
        onclick="select(evt)">&#x2119;</text>
      <g>
        <text x="115" y="80" font-family="CZT"
          onclick="select(evt)">NAME</text>
      </g>
    </g>
    <g><text x="50" y="100" font-family="CZT"
      onclick="select(evt)">birthday</text></g>
    <text x="105" y="100" font-family="CZT"
      onclick="select(evt)">:</text>
    <g>
      <g><text x="115" y="100" font-family="CZT"
        onclick="select(evt)">NAME</text></g>
      <g><text x="155" y="100" font-family="CZT"
        onclick="select(evt)">&#x21F8;</text></g>
      <g><text x="175" y="100" font-family="CZT"
        onclick="select(evt)">DATE</text></g>
    </g>
    <line x1="30" y1="110" x2="90" y2="110" stroke="black"
      onclick="deselect()"/>
    <g>
      <g><text x="50" y="130" font-family="CZT"
        onclick="select(evt)">known</text></g>
      <text x="95" y="130" font-family="CZT"
        onclick="select(evt)">=</text>
      <g>
        <g><text x="110" y="130" font-family="CZT"
          onclick="select(evt)">dom</text></g>
        <g><text x="140" y="130" font-family="CZT"
          onclick="select(evt)">birthday</text></g>
      </g>
    </g>
  </g>
  <line x1="220" y1="140" x2="220" y2="130" stroke="black"
    onclick="deselect()"/>
  <line x1="30" y1="140" x2="220" y2="140" stroke="black"
    onclick="deselect()"/>
  <line x1="30" y1="50" x2="30" y2="140" stroke="black"
    onclick="deselect()"/>
</g>

</svg>
