\begin{zsection}
  \SECTION normalization\_rules \parents oracle\_toolkit
\end{zsection}

\begin{zed}
  \relation ( pred~\_ )
\end{zed}

\begin{gendef}[SIG1,SIG2]
  normalize \_ : SIG1 \fun SIG2 \\
\end{gendef}


Normalization:

\begin{zedrule}{Normalize}
   [D|P] :: \power [D1|true] \\
\derives
  normalize [D|P] = [D1 | pred([D|true]) \land P]
\end{zedrule}


Helper relation pred:

\begin{zedrule}{PredVarDecl1}
  E :: \power E
\derives
  pred [v:E;D | true] \iff pred [D|true]
\end{zedrule}

\begin{zedrule}{PredVarDecl2}
  pred [v:E;D | true] \iff (v \in E \land pred [D|true])
\end{zedrule}

\begin{zedrule}{PredConstDecl}
  pred [v==E;D | true] \iff (v = E \land pred [D|true])
\end{zedrule}

\begin{zedrule}{PredIncludeDecl}
   pred [E; D | true] \iff (E \land pred [D|true])
\end{zedrule}

\begin{zedrule}{PredEmptyDecl}
  pred [|true] \iff true
\end{zedrule}

\begin{zsection}
  \SECTION predicate\_normalization\_rules \parents oracle\_toolkit
\end{zsection}

These are not terminating because D matches D|true.

\begin{zedrule}{ForallNormalization}
  (\forall D|P1 @ P2) \iff (\forall D @ P1 \implies P2)
\end{zedrule}

\begin{zedrule}{ExistsNormalization}
  (\exists D|P1 @ P2) \iff (\exists D @ P1 \land P2)
\end{zedrule}

\begin{zedrule}{Exists1Normalization}
  (\exists_1 D|P1 @ P2) \iff (\exists_1 D @ P1 \land P2)
\end{zedrule}


