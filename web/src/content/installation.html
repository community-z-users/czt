<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=windows-1252">
	<TITLE></TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 1.1.1  (Win32)">
	<META NAME="AUTHOR" CONTENT="Andrew Martin">
	<META NAME="CREATED" CONTENT="20040922;3241191">
	<META NAME="CHANGEDBY" CONTENT="Andrew Martin">
	<META NAME="CHANGED" CONTENT="20040922;4325041">
</HEAD>
<BODY LANG="en-US" DIR="LTR">
<H1>Step-by-step guide to building and installing CZT</H1>
<P STYLE="margin-top: 0.42cm; page-break-after: avoid"><BR><BR>
</P>
<H2>What are you installing?</H2>
<P>There are two bundles on the sourceforge site. The bundle &ldquo;czt&rdquo;
is probably the one you want, at least to start with. It contains
&ldquo;corejava&rdquo;. When you're feeling more adventurous, you
might install corejava independently, or even start using the CVS
repository. This guide assumes you're installing czt_0_1 or czt_0_2.</P>
<H2>Prerequisites</H2>
<OL>
	<LI><P>Decide where you are installing everything. I'm working under
	Windows, and I decided to put CZT together with all the utilities
	and libraries under the path C:\src, which I created especially for
	the task. You could choose any other path(s) you liked. Wherever you
	see this pathname in the following text, substitute the one you have
	chosen. Notice that in Java utilities (including ant configurations
	scripts, e.g. czt.properties, below), you will be best off using a
	forward slash &ldquo;/&rdquo; as a path separator, whereas in
	Windows native contexts (such as the command shell) you will need a
	backward slash &ldquo;\&rdquo;. 
	</P>
	<LI><P>Download and unpack the CZT source. You will need either
	&ldquo;tar&rdquo; or an unzip program, depending on the version you
	choose. My copy ends up in C:\src\czt_0_1\.</P>
	<LI><P>CZT needs a heap of other utlities and libraries in order to
	work; get all of these:</P>
	<OL>
		<LI><P STYLE="margin-bottom: 0cm"><I>Java </I>is essential. <A HREF="http://java.sun.com/j2se/">Java
		2 SDK 1.4 or higher</A> 
		</P>
		<LI><P STYLE="margin-bottom: 0cm"><I>Ant </I>is essential.
		<A HREF="http://ant.apache.org/">ant.apache.org</A> is its home. I
		used version 1.6.2. 
		</P>
		<LI><P STYLE="margin-bottom: 0cm"><A HREF="http://www.beanshell.org/">BeanShell</A>
		is very desirable. I got v2.0b1. 
		</P>
		<LI><P STYLE="margin-bottom: 0cm">The Bean Scripting Framework
		library is needed too. Its <A HREF="http://jakarta.apache.org/bsf/">web
		page</A> is confusing, but this version: <A HREF="http://cvs.apache.org/dist/jakarta/bsf/v2.3.0rc1/bin/bsf-bin-2.3.0.zip">bsf-bin-2.3.0</A>
		worked for me. 
		</P>
		<LI><P STYLE="margin-bottom: 0cm"><A HREF="http://www.cs.princeton.edu/~appel/modern/java/CUP/">Cup</A>
		is essential v0.10 is fine. 
		</P>
		<LI><P STYLE="margin-bottom: 0cm"><A HREF="http://java.sun.com/webservices/webservicespack.html">JWSDP
		1.3</A> or higher is needed (actually, only JAXB and JAXP contained in JWSDP is needed).</P>
		<LI><P><A HREF="http://www.jflex.de/">JFlex</A> is needed. The
		latest version is v1.4.  Due to a bug in czt_0_1, only JFlex v1.3 is working
		together with czt 0.1.  This bug has been resolved in czt 0.2.
		</P>
	</OL>
	<P>You think that looks like a lot? Well, we've been talking about
	<I>reuse</I> for decades: now it's happening!</P>
	<LI><P>There are some optional utilities too. Rhino and Velocity
        and not really needed for the current CZT releases.  JUnit is
        only needed if you want to run the test cases.
	You should probably ignore these first time around.</P>
	<LI><P>Having done all that, I end up with my c:\src directory
	looking like this:</P>
	<PRE>JFlex
apache-ant-1.6.2
bsf-2.3.0
bsh
czt_0_1
java_cup_files
jflex-1.4
jwsdp-1.4</PRE>
	<LI><P>Now edit the file <TT>czt.properties</TT> to record the
	location of all these files. This is found in the root directory of
	czt_0_1. My copy now looks like <A HREF="czt.properties">this</A>.</P>
</OL>
<H2>Compiling</H2>
<OL>
	<LI><P>Make sure that the ant <I>bin </I>directory is in your
	command PATH. Also make sure that the version of Java picked up when
	you type &ldquo;java&rdquo; is the one within your Java SDK: you
	need to be able to find the Java compiler &ldquo;javac&rdquo; too,
	and various libraries need to be found. If this isn't happening, it
	may suffice to set the environment variable JAVA_HOME to point to
	the root directory of your Java SDK.</P>
	<LI><P>Get yourself a command line prompt, and type</P>
	<PRE>ant</PRE>
	<LI><P>CZT should build itself. This takes one minute on my Windows
	laptop.  It ends by saying</P>
	<PRE>BUILD SUCCESSFUL</PRE>
	<LI><P>If you get part-way through a build, and you want to
	back-track and start from scratch for any reason, type
	<PRE>ant clean</PRE>
	to get back an unsullied distribution (this should never be necessary).</P>
</OL>
<H2>Try it out</H2>
<OL>
	<LI><P STYLE="margin-bottom: 0cm">Try those bsh instructions from the
	&quot;User Manual&quot; page.
	</P>
	<LI><P>By putting the CZT &ldquo;bin&rdquo; directory into your
	path, or by typing a full command name, try out the zed2zml script
	on a LaTeX document containing some Z mark-up:</P>
	<PRE STYLE="margin-bottom: 0.5cm">c:\src\czt_0_1\bin\zed2zml.bat -in zrm-bb.tex -out test.xml</PRE>
</OL>
<H2>If things go wrong</H2>
<P STYLE="margin-bottom: 0cm">Please report problems by using the bug
tracking facility at <A HREF="http://sourceforge.net/projects/czt">Sourceforge</A>.
 Be sure to mention version numbers of everything relevant.  
</P>
<HR>
<P>Andrew Martin, 22nd Sept 2004;<BR>
   updated by Petra Malik, 22 Dec 2004
</P>
</BODY>
</HTML>
