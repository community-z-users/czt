<project name="web" default="html" basedir=".">
  <description>
  </description>
  <property name="build" location="build"/>

  <target name="html" depends="init"
        description="generate the web pages: *.xml -> *.html" >
    <xslt in="index.xml" out="${build}/index.html" style="generate.xsl">
      <param name="pagename" expression="home"/>
    </xslt>
    <xslt in="zml.xml" out="${build}/zml/index.html" style="generate.xsl">
      <param name="pagename" expression="zml"/>
      <param name="homedir" expression=".."/>
    </xslt>
    <xslt in="news.xml" out="${build}/news.html" style="generate.xsl">
      <param name="pagename" expression="news"/>
    </xslt>
    <xslt in="people.xml" out="${build}/people.html" style="generate.xsl">
      <param name="pagename" expression="people"/>
    </xslt>
    <xslt in="documentation.xml" out="${build}/documentation.html" style="generate.xsl">
      <param name="pagename" expression="documentation"/>
    </xslt>
    <xslt in="screenshots.xml" out="${build}/screenshots.html" style="generate.xsl">
      <param name="pagename" expression="screenshots"/>
    </xslt>
    <xslt in="zml.xml" out="${build}/zml.html" style="generate.xsl">
      <param name="pagename" expression="zml"/>
    </xslt>
  </target>

  <target name="init">
    <tstamp/>
    <mkdir dir="${build}"/>
    <mkdir dir="${build}/zml"/>
    <copy  todir="${build}/images">
      <fileset dir="images"> 
        <include name="*"/> 
      </fileset>
    </copy>
  </target>

  <target name="clean" description="clean up">
    <delete dir="${build}"/>
  </target>
</project>
