<project name="WebSite" default="install">
  <!-- the home directory of forrest -->
  <property name="forrest.home" location="/research/apache-forrest-0.5.1-bin"/>

  <property name="sf.host" value="czt.sourceforge.net"/>
  <property name="sf.install.dir" location="/home/groups/c/cz/czt/htdocs"/>
  <property name="build.site.dir" location="build/site"/>

  <target name="site" description="generates static HTML documentation">
    <ant antfile="${forrest.home}/forrest.antproxy.xml" target="site"/>
  </target>

  <target name="install" depends="site"
    description="installs HTML documentation on sourceforge">
    <input message="Sourceforge username: " addproperty="username"/>
    <input message="Sourceforge password (make sure nobody is watching; the password is written to stdout): " addproperty="password"/>
    <scp todir="${username}:${password}@${sf.host}:${sf.install.dir}">
      <fileset dir="${build.site.dir}"/>
    </scp>
  </target>

  <target name="clean" description="clean up">
    <delete dir="build"/>
  </target>
</project>
