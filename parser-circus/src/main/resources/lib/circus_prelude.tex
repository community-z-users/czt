%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% PREAMBLE: Circus prelude, v 1.3, June 2007
%           Copyright 2004-2007 Leo Freitas
%           Department of Computer Science
%           University of York, YO10 5DD UK
%           leo@cs.york.ac.uk, +44-1904-434753
%           http://www.cs.york.ac.uk/circus
%           http://www.cs.york.ac.uk/~leo
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Like the Z standard prelude, the Circus prelude defines the basic keywords
% and operators for the Circus language. It MUST NOT depend on any other toolkit,
% otherwise a cyclic recursion might occur. The right way to specify user toolkits
% for Circus is to have the circus_prelude or circus_toolkit as a parent.
% circus_toolkit inherits the circus_prelude and standard_toolkit.
%
\begin{zsection}
   \SECTION circus\_prelude
\end{zsection}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Mark-up directives for core language symbols are as follows:
% The choice for pre, in, or post, has to do with how one wants
% the character to be rendered. See Z Std A.2.3.2.
%
% By using keychars, such as \circguard instead of &, we allow
% appropriate rendering by both LaTeX and Unicode mark-ups.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% TODO: Normalise the keywords and keychar latex names.
% TODO: Use just \circthen for both guarded commands and prefixing?
% TODO: Replicated Internal Choice Unicode 2294 is Wrong! FIX IT!
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Unicode symbols (divided like the sections of zchar.xml)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% CORESYMBOLS

%   Refinement
%%Zinchar \circrefines U+2291

%   Simulation
%%Zinchar \circsimulates U+227C

%   Refinement
%%Zword \circassertref assert


%   Input field prefix colon
%%Zinchar \prefixcolon U+2236

%   Spivey's like definition symbol (or just \defs?)
%%Zinchar \circdef U+2259

%   Circus spot
%%Zinchar \circspot U+2219

%   Process indexing
%%Zinchar \circindex U+2299

%   Recursion
%%Zprechar \circmu U+00B5

%   Guarded command then
%%Zinchar \circthen U+27FC

%   Guarded command else
%%Zinchar \circelse U+25AF

%   Prefixing
%%Zinchar \then U+27F6

%   Prefixing guards
%%Zinchar \circguard U+0026

%   Sequential composition
%%Zinchar \circseq U+037E

%   Sequential composition
%%Zinchar \circinterrupt U+25B3

%   Replicated sequential composition
%%Zprechar \Semi U+2A1F

%   Process interleave
%%Zinchar \interleave U+2980

%   Replicated parallelism
%%Zprechar \Parallel U+2225

%   Replicated interleaving
%%Zprechar \Interleave U+2AFC

%   Hiding
%   It must be a different Unicode from \setminus and \hide.
%   Otherwise, the KeywordScanner will raise a warning.
%%Zinchar \circhide U+2AF5

%   External choice
%%Zinchar \extchoice U+25FB

%   Replicated external choice
%%Zprechar \Extchoice U+25A1

%   Internal choice
%%Zinchar \intchoice U+2293

%   Replicated internal choice
%%Zprechar \Intchoice U+2294

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% BRACKETS

%   Left/Right channel set brackets
%%Zchar \lchanset U+2983
%%Zchar \rchanset U+2984

%   Left/Right index instantiation brackets
%%Zchar \lcircindex U+230A
%%Zchar \rcircindex U+230B

%   Left/Right guarded action brackets
%%Zchar \lcircguard U+3014
%%Zchar \rcircguard U+3015

%   Left/Right schema expression action brackets
%%Zchar \lschexpract U+2768
%%Zchar \rschexpract U+2769

%   Left/Right process renaming square brackets
%%Zchar \lcircrename U+3016
%%Zchar \rcircrename U+3017

%   Left/Right interface parallel action/process brackets
%%Zinchar \lpar U+27E6
%%Zinchar \rpar U+27E7

%   Left/Right interleave action/process brackets
%%Zinchar \linter U+301A
%%Zinchar \rinter U+301B

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Alternatives          Observation
%
% \circindex    U+2A00  (2A00=bigger version). Use circus.sty \circindex instead of LaTeX \odot.
% \lcircindex    U+23A3
% \rcircindex    U+23A6, U+300D
% \Parallel     U+2016
% \Interleave   U+2980  Small version of |||
% \circdef      U+225D  = with def on the top of it.
% \Semi         U+2A3E
% \lcircguard   U+2772, U+2329, U+276C
% \rcircguard   U+2773, U+232A, U+276D


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Language keywords:
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Guarded commands

%   Circus alternative
%%Zpreword \circif if
%%Zpostword \circfi fi

%   Circus iteration
%%Zpreword \circdo do
%%Zpostword \circod od

%   Logical constants
%%Zpreword \circcon con

%   Variable declaration
%%Zpreword \circvar var

%   Parameter qualifiers: value, result, value-result
%%Zpreword \circval val
%%Zpreword \circres res
%%Zpreword \circvres vres


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Channel and name set

%   Channel declaration
%%Zpreword \circchannel channel

%   Channel declaration from schema inclusion
%%Zpreword \circchannelfrom channelfrom

%   Channel set declaration
%%Zpreword \circchannelset channelset

%   Name set declaration
%%Zpreword \circnameset nameset


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Processes

%   Process declaration
%%Zpreword \circprocess process

%   Basic process begin
%%Zpreword \circbegin begin

%   Basic process state
%%Zinword  \circstate circstate

%   Basic process end
%%Zpostword \circend end

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Actions

%   Basic termination action
%%Zword \Skip Skip

%   Basic deadlock action
%%Zword \Stop Stop

%   Basic divergent (chaotic) action
%%Zword \Chaos Chaos


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Auxiliary definitions for the semantics of Circus
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% UTP related

%   UTP boolean value.
%   LaTeX equivalent to \mathcal{B} - fat B, like \num is fat Z
%%Zchar \boolean U-0001D539
%%Zword \true True
%%Zword \false False
\begin{zed}
   \boolean ::= \true | \false
\end{zed}

%   Universe generic definition.
%   Useful for operation interfaces where the type is resolved at use.
%   LaTeX equivalent to \mathcal{U} - fat U, like \nat is fat N
%%Zchar \universe U-0001D54C
\begin{gendef}[X]
    \universe : \power~X
 \end{gendef} 