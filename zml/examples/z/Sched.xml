<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Spec Version="1.2" xmlns="http://czt.sourceforge.net/zml">
    <NarrSect>
        <Content>This is a specification of a simple scheduler and assembler. The
system contains a set of registers and a block of memory. Processes
can be created, with each containing a sequence on instructions that
are executed on the system. The instruction format is a simplified
format of the Intel x86 architecture. Processes are scheduled based on
the credit system that is found in the Linux 2.0 kernel.

This specification was written as a test spec for the CZT project. As
a result, there are parts that may appear to be specified in a strange
way - this is to test out the tools on a large set of Z.

%some compatibility problems between fuzz and oz.sty
/*
\newcommand{\LET}{\zlet}
\newcommand{\pipe}{\zpipe}

\newcommand{\IF}{\word{if}}
\newcommand{\THEN}{\word{then}}
\newcommand{\ELSE}{\word{else}}

\def\zsection{\noindent{\words{Section}}}
*/

</Content>
    </NarrSect>
    <ZSect>
        <Name>Stack</Name>
        <Parent>
            <Word>standard_toolkit</Word>
        </Parent>
        <NarrPara>
            <Content>

A generic stack.

\begin{syntax}
    Stack[X] == [stack : seq X]\\
    InitStack[X] == [Stack[X] | stack = \emptyset]
\end{syntax}

</Content>
        </NarrPara>
        <AxPara Box="SchBox">
            <DeclName>
                <Word>X</Word>
            </DeclName>
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>PushStack</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>ΔStack</Word>
                                    </RefName>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>X</Word>
                                        </RefName>
                                    </RefExpr>
                                </RefExpr>
                            </InclDecl>
                            <VarDecl>
                                <DeclName>
                                    <Word>x</Word>
                                    <InStroke/>
                                </DeclName>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>X</Word>
                                    </RefName>
                                </RefExpr>
                            </VarDecl>
                            <MemPred Mixfix="true">
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>stack</Word>
                                        <NextStroke/>
                                    </RefName>
                                </RefExpr>
                                <SetExpr>
                                    <ApplExpr Mixfix="true">
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word> _ ⁀ _ </Word>
                                            </RefName>
                                        </RefExpr>
                                        <TupleExpr>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>stack</Word>
                                                </RefName>
                                            </RefExpr>
                                            <ApplExpr Mixfix="true">
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word>⟨ _ ⟩</Word>
                                                    </RefName>
                                                </RefExpr>
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word>x</Word>
                                                        <InStroke/>
                                                    </RefName>
                                                </RefExpr>
                                            </ApplExpr>
                                        </TupleExpr>
                                    </ApplExpr>
                                </SetExpr>
                            </MemPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

</Content>
        </NarrPara>
        <AxPara Box="SchBox">
            <DeclName>
                <Word>X</Word>
            </DeclName>
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>PopStack</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>ΔStack</Word>
                                    </RefName>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>X</Word>
                                        </RefName>
                                    </RefExpr>
                                </RefExpr>
                            </InclDecl>
                            <VarDecl>
                                <DeclName>
                                    <Word>x</Word>
                                    <OutStroke/>
                                </DeclName>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>X</Word>
                                    </RefName>
                                </RefExpr>
                            </VarDecl>
                            <MemPred Mixfix="true">
                                <ApplExpr Mixfix="true">
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word> _ ⁀ _ </Word>
                                        </RefName>
                                    </RefExpr>
                                    <TupleExpr>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>stack</Word>
                                                <NextStroke/>
                                            </RefName>
                                        </RefExpr>
                                        <ApplExpr Mixfix="true">
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>⟨ _ ⟩</Word>
                                                </RefName>
                                            </RefExpr>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>x</Word>
                                                    <OutStroke/>
                                                </RefName>
                                            </RefExpr>
                                        </ApplExpr>
                                    </TupleExpr>
                                </ApplExpr>
                                <SetExpr>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>stack</Word>
                                        </RefName>
                                    </RefExpr>
                                </SetExpr>
                            </MemPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>


</Content>
        </NarrPara>
    </ZSect>
    <ZSect>
        <Name>Definitions</Name>
        <Parent>
            <Word>standard_toolkit</Word>
        </Parent>
        <NarrPara>
            <Content>

Firstly, we define some basic types and functions that are used
throughout the specification.

$singleton$ is the set of all sets whose size is less than or equal to
1. This is included only to have a generic axiom definition.

</Content>
        </NarrPara>
        <AxPara Box="AxBox">
            <DeclName>
                <Word>X</Word>
            </DeclName>
            <SchText>
                <VarDecl>
                    <DeclName>
                        <Word>singleton</Word>
                    </DeclName>
                    <PowerExpr>
                        <PowerExpr>
                            <Anns>
                                <ParenAnn/>
                            </Anns>
                            <RefExpr Mixfix="false">
                                <RefName>
                                    <Word>X</Word>
                                </RefName>
                            </RefExpr>
                        </PowerExpr>
                    </PowerExpr>
                </VarDecl>
                <MemPred Mixfix="true">
                    <RefExpr Mixfix="false">
                        <RefName>
                            <Word>singleton</Word>
                        </RefName>
                    </RefExpr>
                    <SetExpr>
                        <SetCompExpr>
                            <SchText>
                                <VarDecl>
                                    <DeclName>
                                        <Word>ps</Word>
                                    </DeclName>
                                    <PowerExpr>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>X</Word>
                                            </RefName>
                                        </RefExpr>
                                    </PowerExpr>
                                </VarDecl>
                                <MemPred Mixfix="true">
                                    <TupleExpr>
                                        <ApplExpr Mixfix="true">
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word># _ </Word>
                                                </RefName>
                                            </RefExpr>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>ps</Word>
                                                </RefName>
                                            </RefExpr>
                                        </ApplExpr>
                                        <NumExpr Value="1"/>
                                    </TupleExpr>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word> _ ≤ _ </Word>
                                        </RefName>
                                    </RefExpr>
                                </MemPred>
                            </SchText>
                        </SetCompExpr>
                    </SetExpr>
                </MemPred>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

The basic type of this system is a word, which specifically, is an
unsigned octet. An unsigned word is used so references to memory etc a
1-relative.

</Content>
        </NarrPara>
        <AxPara Box="OmitBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>WORD</Word>
                    </DeclName>
                    <ApplExpr Mixfix="true">
                        <RefExpr Mixfix="false">
                            <RefName>
                                <Word> _ .. _ </Word>
                            </RefName>
                        </RefExpr>
                        <TupleExpr>
                            <NumExpr Value="0"/>
                            <NumExpr Value="255"/>
                        </TupleExpr>
                    </ApplExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

Then, we define the size of the memory block, and give it a value for
animation purposes.

</Content>
        </NarrPara>
        <AxPara Box="AxBox">
            <SchText>
                <VarDecl>
                    <DeclName>
                        <Word>mem_size</Word>
                    </DeclName>
                    <RefExpr Mixfix="false">
                        <RefName>
                            <Word>WORD</Word>
                        </RefName>
                    </RefExpr>
                </VarDecl>
                <MemPred Mixfix="true">
                    <RefExpr Mixfix="false">
                        <RefName>
                            <Word>mem_size</Word>
                        </RefName>
                    </RefExpr>
                    <SetExpr>
                        <NumExpr Value="100"/>
                    </SetExpr>
                </MemPred>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

A $LABEL$ is used to label instructions for $jump$ instructions etc,
although 'jump' hasn't been specified yet.

</Content>
        </NarrPara>
        <GivenPara>
            <DeclName>
                <Word>LABEL</Word>
            </DeclName>
        </GivenPara>
        <NarrPara>
            <Content>

Now we define the different instructions, as well as their operands. A
$CONSTANT$ is used both as a constant value, as well as a memory
reference for load and store instructions.

</Content>
        </NarrPara>
        <FreePara>
            <Freetype>
                <DeclName>
                    <Word>INST_NAME</Word>
                </DeclName>
                <Branch>
                    <DeclName>
                        <Word>add</Word>
                    </DeclName>
                </Branch>
                <Branch>
                    <DeclName>
                        <Word>sub</Word>
                    </DeclName>
                </Branch>
                <Branch>
                    <DeclName>
                        <Word>divide</Word>
                    </DeclName>
                </Branch>
                <Branch>
                    <DeclName>
                        <Word>mult</Word>
                    </DeclName>
                </Branch>
                <Branch>
                    <DeclName>
                        <Word>push</Word>
                    </DeclName>
                </Branch>
                <Branch>
                    <DeclName>
                        <Word>pop</Word>
                    </DeclName>
                </Branch>
                <Branch>
                    <DeclName>
                        <Word>load</Word>
                    </DeclName>
                </Branch>
                <Branch>
                    <DeclName>
                        <Word>store</Word>
                    </DeclName>
                </Branch>
                <Branch>
                    <DeclName>
                        <Word>loadConst</Word>
                    </DeclName>
                </Branch>
                <Branch>
                    <DeclName>
                        <Word>print</Word>
                    </DeclName>
                </Branch>
            </Freetype>
            <Freetype>
                <DeclName>
                    <Word>OPERAND</Word>
                </DeclName>
                <Branch>
                    <DeclName>
                        <Word>AX</Word>
                    </DeclName>
                </Branch>
                <Branch>
                    <DeclName>
                        <Word>BX</Word>
                    </DeclName>
                </Branch>
                <Branch>
                    <DeclName>
                        <Word>CX</Word>
                    </DeclName>
                </Branch>
                <Branch>
                    <DeclName>
                        <Word>DX</Word>
                    </DeclName>
                </Branch>
                <Branch>
                    <DeclName>
                        <Word>constant</Word>
                    </DeclName>
                    <RefExpr Mixfix="false">
                        <RefName>
                            <Word>WORD</Word>
                        </RefName>
                    </RefExpr>
                </Branch>
            </Freetype>
        </FreePara>
        <AxPara Box="OmitBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>REGISTER</Word>
                    </DeclName>
                    <SetExpr>
                        <RefExpr Mixfix="false">
                            <RefName>
                                <Word>AX</Word>
                            </RefName>
                        </RefExpr>
                        <RefExpr Mixfix="false">
                            <RefName>
                                <Word>BX</Word>
                            </RefName>
                        </RefExpr>
                        <RefExpr Mixfix="false">
                            <RefName>
                                <Word>CX</Word>
                            </RefName>
                        </RefExpr>
                        <RefExpr Mixfix="false">
                            <RefName>
                                <Word>DX</Word>
                            </RefName>
                        </RefExpr>
                    </SetExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <AxPara Box="OmitBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>CONSTANT</Word>
                    </DeclName>
                    <ApplExpr Mixfix="true">
                        <RefExpr Mixfix="false">
                            <RefName>
                                <Word> _ \ _ </Word>
                            </RefName>
                        </RefExpr>
                        <TupleExpr>
                            <RefExpr Mixfix="false">
                                <RefName>
                                    <Word>OPERAND</Word>
                                </RefName>
                            </RefExpr>
                            <RefExpr Mixfix="false">
                                <RefName>
                                    <Word>REGISTER</Word>
                                </RefName>
                            </RefExpr>
                        </TupleExpr>
                    </ApplExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

An instruction is specified as a instruction name, a sequence of
operands, and optionally, a label.

</Content>
        </NarrPara>
        <AxPara Box="SchBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>Instruction</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <VarDecl>
                                <DeclName>
                                    <Word>label</Word>
                                </DeclName>
                                <PowerExpr>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>LABEL</Word>
                                        </RefName>
                                    </RefExpr>
                                </PowerExpr>
                            </VarDecl>
                            <VarDecl>
                                <DeclName>
                                    <Word>name</Word>
                                </DeclName>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>INST_NAME</Word>
                                    </RefName>
                                </RefExpr>
                            </VarDecl>
                            <VarDecl>
                                <DeclName>
                                    <Word>params</Word>
                                </DeclName>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>seqOPERAND</Word>
                                    </RefName>
                                </RefExpr>
                            </VarDecl>
                            <MemPred Mixfix="false">
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>label</Word>
                                    </RefName>
                                </RefExpr>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>singleton</Word>
                                    </RefName>
                                </RefExpr>
                            </MemPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

</Content>
        </NarrPara>
    </ZSect>
    <ZSect>
        <Name>System</Name>
        <Parent>
            <Word>Definitions</Word>
        </Parent>
        <Parent>
            <Word>Stack</Word>
        </Parent>
        <NarrPara>
            <Content>

The system consists of a set of registers, and a block of
memory. There is also a buffer for displaying output.

</Content>
        </NarrPara>
        <AxPara Box="OmitBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>REGISTERS</Word>
                    </DeclName>
                    <RefExpr Mixfix="true">
                        <RefName>
                            <Word> _ → _ </Word>
                        </RefName>
                        <RefExpr Mixfix="false">
                            <RefName>
                                <Word>REGISTER</Word>
                            </RefName>
                        </RefExpr>
                        <RefExpr Mixfix="false">
                            <RefName>
                                <Word>OPERAND</Word>
                            </RefName>
                        </RefExpr>
                    </RefExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <AxPara Box="OmitBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>MEMORY</Word>
                    </DeclName>
                    <RefExpr Mixfix="true">
                        <RefName>
                            <Word> _ ⇸ _ </Word>
                        </RefName>
                        <ApplExpr Mixfix="true">
                            <RefExpr Mixfix="false">
                                <RefName>
                                    <Word> _ .. _ </Word>
                                </RefName>
                            </RefExpr>
                            <TupleExpr>
                                <NumExpr Value="1"/>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>mem_size</Word>
                                    </RefName>
                                </RefExpr>
                            </TupleExpr>
                        </ApplExpr>
                        <RefExpr Mixfix="false">
                            <RefName>
                                <Word>WORD</Word>
                            </RefName>
                        </RefExpr>
                    </RefExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

</Content>
        </NarrPara>
        <AxPara Box="SchBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>System</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <VarDecl>
                                <DeclName>
                                    <Word>registers</Word>
                                </DeclName>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>REGISTERS</Word>
                                    </RefName>
                                </RefExpr>
                            </VarDecl>
                            <VarDecl>
                                <DeclName>
                                    <Word>memory</Word>
                                </DeclName>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>MEMORY</Word>
                                    </RefName>
                                </RefExpr>
                            </VarDecl>
                            <VarDecl>
                                <DeclName>
                                    <Word>output</Word>
                                </DeclName>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>seqWORD</Word>
                                    </RefName>
                                </RefExpr>
                            </VarDecl>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

Initially, all registers and memory are initialised to hold the
minimum $WORD$ value. The output buffer is empty.

</Content>
        </NarrPara>
        <AxPara Box="SchBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>InitSystem</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>System</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <AndPred Op="NL">
                                <AndPred Op="NL">
                                    <MemPred Mixfix="true">
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>registers</Word>
                                            </RefName>
                                        </RefExpr>
                                        <SetExpr>
                                            <SetCompExpr>
                                                <SchText>
                                                    <VarDecl>
                                                        <DeclName>
                                                            <Word>r</Word>
                                                        </DeclName>
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>REGISTER</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                    </VarDecl>
                                                </SchText>
                                                <ApplExpr Mixfix="true">
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word> _ ↦ _ </Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <TupleExpr>
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>r</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <ApplExpr Mixfix="false">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>constant</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <ApplExpr Mixfix="true">
                                                                <Anns>
                                                                    <ParenAnn/>
                                                                </Anns>
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>min _ </Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <RefExpr Mixfix="false">
                                                                    <Anns>
                                                                        <ParenAnn/>
                                                                    </Anns>
                                                                    <RefName>
                                                                        <Word>WORD</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                            </ApplExpr>
                                                        </ApplExpr>
                                                    </TupleExpr>
                                                </ApplExpr>
                                            </SetCompExpr>
                                        </SetExpr>
                                    </MemPred>
                                    <MemPred Mixfix="true">
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>memory</Word>
                                            </RefName>
                                        </RefExpr>
                                        <SetExpr>
                                            <SetCompExpr>
                                                <SchText>
                                                    <VarDecl>
                                                        <DeclName>
                                                            <Word>m</Word>
                                                        </DeclName>
                                                        <ApplExpr Mixfix="true">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word> _ .. _ </Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <TupleExpr>
                                                                <NumExpr Value="1"/>
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>mem_size</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                            </TupleExpr>
                                                        </ApplExpr>
                                                    </VarDecl>
                                                </SchText>
                                                <ApplExpr Mixfix="true">
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word> _ ↦ _ </Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <TupleExpr>
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>m</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <ApplExpr Mixfix="true">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>min _ </Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <RefExpr Mixfix="false">
                                                                <Anns>
                                                                    <ParenAnn/>
                                                                </Anns>
                                                                <RefName>
                                                                    <Word>WORD</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                        </ApplExpr>
                                                    </TupleExpr>
                                                </ApplExpr>
                                            </SetCompExpr>
                                        </SetExpr>
                                    </MemPred>
                                </AndPred>
                                <MemPred Mixfix="true">
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>output</Word>
                                        </RefName>
                                    </RefExpr>
                                    <SetExpr>
                                        <ApplExpr Mixfix="true">
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>⟨ _ ⟩</Word>
                                                </RefName>
                                            </RefExpr>
                                            <TupleExpr/>
                                        </ApplExpr>
                                    </SetExpr>
                                </MemPred>
                            </AndPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

The system can have arithmetic and memory instructions.

</Content>
        </NarrPara>
        <AxPara Box="OmitBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>Arith_Inst</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Instruction</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <AndPred Op="And">
                                <MemPred Mixfix="true">
                                    <ApplExpr Mixfix="true">
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word># _ </Word>
                                            </RefName>
                                        </RefExpr>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>params</Word>
                                            </RefName>
                                        </RefExpr>
                                    </ApplExpr>
                                    <SetExpr>
                                        <NumExpr Value="2"/>
                                    </SetExpr>
                                </MemPred>
                                <MemPred Mixfix="false">
                                    <ApplExpr Mixfix="false">
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>params</Word>
                                            </RefName>
                                        </RefExpr>
                                        <NumExpr Value="1">
                                            <Anns>
                                                <ParenAnn/>
                                            </Anns>
                                        </NumExpr>
                                    </ApplExpr>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>REGISTER</Word>
                                        </RefName>
                                    </RefExpr>
                                </MemPred>
                            </AndPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <AxPara Box="OmitBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>Add_Inst</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Arith_Inst</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <MemPred Mixfix="true">
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>name</Word>
                                    </RefName>
                                </RefExpr>
                                <SetExpr>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>add</Word>
                                        </RefName>
                                    </RefExpr>
                                </SetExpr>
                            </MemPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <AxPara Box="OmitBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>Sub_Inst</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Arith_Inst</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <MemPred Mixfix="true">
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>name</Word>
                                    </RefName>
                                </RefExpr>
                                <SetExpr>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>sub</Word>
                                        </RefName>
                                    </RefExpr>
                                </SetExpr>
                            </MemPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <AxPara Box="OmitBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>Mult_Inst</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Arith_Inst</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <MemPred Mixfix="true">
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>name</Word>
                                    </RefName>
                                </RefExpr>
                                <SetExpr>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>mult</Word>
                                        </RefName>
                                    </RefExpr>
                                </SetExpr>
                            </MemPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <AxPara Box="OmitBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>Div_Inst</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Arith_Inst</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <MemPred Mixfix="true">
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>name</Word>
                                    </RefName>
                                </RefExpr>
                                <SetExpr>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>divide</Word>
                                        </RefName>
                                    </RefExpr>
                                </SetExpr>
                            </MemPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

</Content>
        </NarrPara>
        <AxPara Box="OmitBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>Memory_Inst</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Instruction</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <AndPred Op="And">
                                <AndPred Op="And">
                                    <MemPred Mixfix="true">
                                        <ApplExpr Mixfix="true">
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word># _ </Word>
                                                </RefName>
                                            </RefExpr>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>params</Word>
                                                </RefName>
                                            </RefExpr>
                                        </ApplExpr>
                                        <SetExpr>
                                            <NumExpr Value="2"/>
                                        </SetExpr>
                                    </MemPred>
                                    <MemPred Mixfix="false">
                                        <ApplExpr Mixfix="false">
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>params</Word>
                                                </RefName>
                                            </RefExpr>
                                            <NumExpr Value="1">
                                                <Anns>
                                                    <ParenAnn/>
                                                </Anns>
                                            </NumExpr>
                                        </ApplExpr>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>REGISTER</Word>
                                            </RefName>
                                        </RefExpr>
                                    </MemPred>
                                </AndPred>
                                <MemPred Mixfix="false">
                                    <ApplExpr Mixfix="false">
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>params</Word>
                                            </RefName>
                                        </RefExpr>
                                        <NumExpr Value="2">
                                            <Anns>
                                                <ParenAnn/>
                                            </Anns>
                                        </NumExpr>
                                    </ApplExpr>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>CONSTANT</Word>
                                        </RefName>
                                    </RefExpr>
                                </MemPred>
                            </AndPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <AxPara Box="OmitBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>Load_Inst</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Memory_Inst</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <MemPred Mixfix="true">
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>name</Word>
                                    </RefName>
                                </RefExpr>
                                <SetExpr>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>load</Word>
                                        </RefName>
                                    </RefExpr>
                                </SetExpr>
                            </MemPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <AxPara Box="OmitBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>LoadConst_Inst</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Memory_Inst</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <MemPred Mixfix="true">
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>name</Word>
                                    </RefName>
                                </RefExpr>
                                <SetExpr>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>loadConst</Word>
                                        </RefName>
                                    </RefExpr>
                                </SetExpr>
                            </MemPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <AxPara Box="OmitBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>Store_Inst</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Memory_Inst</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <MemPred Mixfix="true">
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>name</Word>
                                    </RefName>
                                </RefExpr>
                                <SetExpr>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>store</Word>
                                        </RefName>
                                    </RefExpr>
                                </SetExpr>
                            </MemPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

A print instruction prints the value of a register.

</Content>
        </NarrPara>
        <AxPara Box="OmitBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>Print_Inst</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Instruction</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <MemPred Mixfix="true">
                                <ApplExpr Mixfix="true">
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word># _ </Word>
                                        </RefName>
                                    </RefExpr>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>params</Word>
                                        </RefName>
                                    </RefExpr>
                                </ApplExpr>
                                <SetExpr>
                                    <NumExpr Value="1"/>
                                </SetExpr>
                            </MemPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

$val$ maps constants to their value, and $dereference$ dereferences
the value of a register, transitively if required.

</Content>
        </NarrPara>
        <AxPara Box="AxBox">
            <SchText>
                <VarDecl>
                    <DeclName>
                        <Word>val</Word>
                    </DeclName>
                    <RefExpr Mixfix="true">
                        <RefName>
                            <Word> _ → _ </Word>
                        </RefName>
                        <RefExpr Mixfix="false">
                            <RefName>
                                <Word>CONSTANT</Word>
                            </RefName>
                        </RefExpr>
                        <RefExpr Mixfix="false">
                            <RefName>
                                <Word>WORD</Word>
                            </RefName>
                        </RefExpr>
                    </RefExpr>
                </VarDecl>
                <VarDecl>
                    <DeclName>
                        <Word>dereference</Word>
                    </DeclName>
                    <RefExpr Mixfix="true">
                        <RefName>
                            <Word> _ → _ </Word>
                        </RefName>
                        <ProdExpr>
                            <RefExpr Mixfix="false">
                                <RefName>
                                    <Word>OPERAND</Word>
                                </RefName>
                            </RefExpr>
                            <RefExpr Mixfix="false">
                                <RefName>
                                    <Word>REGISTERS</Word>
                                </RefName>
                            </RefExpr>
                        </ProdExpr>
                        <RefExpr Mixfix="false">
                            <RefName>
                                <Word>WORD</Word>
                            </RefName>
                        </RefExpr>
                    </RefExpr>
                </VarDecl>
                <AndPred Op="NL">
                    <ForallPred>
                        <SchText>
                            <VarDecl>
                                <DeclName>
                                    <Word>c</Word>
                                </DeclName>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>CONSTANT</Word>
                                    </RefName>
                                </RefExpr>
                            </VarDecl>
                        </SchText>
                        <ExistsPred>
                            <Anns>
                                <ParenAnn/>
                            </Anns>
                            <SchText>
                                <VarDecl>
                                    <DeclName>
                                        <Word>n</Word>
                                    </DeclName>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>WORD</Word>
                                        </RefName>
                                    </RefExpr>
                                </VarDecl>
                            </SchText>
                            <AndPred Op="And">
                                <MemPred Mixfix="true">
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>c</Word>
                                        </RefName>
                                    </RefExpr>
                                    <SetExpr>
                                        <ApplExpr Mixfix="false">
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>constant</Word>
                                                </RefName>
                                            </RefExpr>
                                            <RefExpr Mixfix="false">
                                                <Anns>
                                                    <ParenAnn/>
                                                </Anns>
                                                <RefName>
                                                    <Word>n</Word>
                                                </RefName>
                                            </RefExpr>
                                        </ApplExpr>
                                    </SetExpr>
                                </MemPred>
                                <MemPred Mixfix="true">
                                    <ApplExpr Mixfix="false">
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>val</Word>
                                            </RefName>
                                        </RefExpr>
                                        <RefExpr Mixfix="false">
                                            <Anns>
                                                <ParenAnn/>
                                            </Anns>
                                            <RefName>
                                                <Word>c</Word>
                                            </RefName>
                                        </RefExpr>
                                    </ApplExpr>
                                    <SetExpr>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>n</Word>
                                            </RefName>
                                        </RefExpr>
                                    </SetExpr>
                                </MemPred>
                            </AndPred>
                        </ExistsPred>
                    </ForallPred>
                    <ForallPred>
                        <SchText>
                            <VarDecl>
                                <DeclName>
                                    <Word>a</Word>
                                </DeclName>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>OPERAND</Word>
                                    </RefName>
                                </RefExpr>
                            </VarDecl>
                            <VarDecl>
                                <DeclName>
                                    <Word>r</Word>
                                </DeclName>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>REGISTERS</Word>
                                    </RefName>
                                </RefExpr>
                            </VarDecl>
                        </SchText>
                        <MemPred Mixfix="true">
                            <ApplExpr Mixfix="false">
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>dereference</Word>
                                    </RefName>
                                </RefExpr>
                                <TupleExpr>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>a</Word>
                                        </RefName>
                                    </RefExpr>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>r</Word>
                                        </RefName>
                                    </RefExpr>
                                </TupleExpr>
                            </ApplExpr>
                            <SetExpr>
                                <CondExpr>
                                    <MemPred Mixfix="false">
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>a</Word>
                                            </RefName>
                                        </RefExpr>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>REGISTER</Word>
                                            </RefName>
                                        </RefExpr>
                                    </MemPred>
                                    <ApplExpr Mixfix="false">
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>dereference</Word>
                                            </RefName>
                                        </RefExpr>
                                        <TupleExpr>
                                            <ApplExpr Mixfix="false">
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word>r</Word>
                                                    </RefName>
                                                </RefExpr>
                                                <RefExpr Mixfix="false">
                                                    <Anns>
                                                        <ParenAnn/>
                                                    </Anns>
                                                    <RefName>
                                                        <Word>a</Word>
                                                    </RefName>
                                                </RefExpr>
                                            </ApplExpr>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>r</Word>
                                                </RefName>
                                            </RefExpr>
                                        </TupleExpr>
                                    </ApplExpr>
                                    <ApplExpr Mixfix="false">
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>val</Word>
                                            </RefName>
                                        </RefExpr>
                                        <RefExpr Mixfix="false">
                                            <Anns>
                                                <ParenAnn/>
                                            </Anns>
                                            <RefName>
                                                <Word>a</Word>
                                            </RefName>
                                        </RefExpr>
                                    </ApplExpr>
                                </CondExpr>
                            </SetExpr>
                        </MemPred>
                    </ForallPred>
                </AndPred>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

The specification of the arithmetic instructions.

</Content>
        </NarrPara>
        <AxPara Box="SchBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>Add</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>ΔSystem</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Add_Inst</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <AndPred Op="NL">
                                <AndPred Op="NL">
                                    <MemPred Mixfix="true">
                                        <LetExpr>
                                            <SchText>
                                                <ConstDecl>
                                                    <DeclName>
                                                        <Word>o</Word>
                                                        <NumStroke Number="1"/>
                                                    </DeclName>
                                                    <ApplExpr Mixfix="false">
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>dereference</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <TupleExpr>
                                                            <ApplExpr Mixfix="false">
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>params</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <NumExpr Value="1">
                                                                    <Anns>
                                                                        <ParenAnn/>
                                                                    </Anns>
                                                                </NumExpr>
                                                            </ApplExpr>
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>registers</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                        </TupleExpr>
                                                    </ApplExpr>
                                                </ConstDecl>
                                                <ConstDecl>
                                                    <DeclName>
                                                        <Word>o</Word>
                                                        <NumStroke Number="2"/>
                                                    </DeclName>
                                                    <ApplExpr Mixfix="false">
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>dereference</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <TupleExpr>
                                                            <ApplExpr Mixfix="false">
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>params</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <NumExpr Value="2">
                                                                    <Anns>
                                                                        <ParenAnn/>
                                                                    </Anns>
                                                                </NumExpr>
                                                            </ApplExpr>
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>registers</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                        </TupleExpr>
                                                    </ApplExpr>
                                                </ConstDecl>
                                            </SchText>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>registers</Word>
                                                    <NextStroke/>
                                                </RefName>
                                            </RefExpr>
                                        </LetExpr>
                                        <SetExpr>
                                            <ApplExpr Mixfix="true">
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word> _ ⊕ _ </Word>
                                                    </RefName>
                                                </RefExpr>
                                                <TupleExpr>
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>registers</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <SetExpr>
                                                        <ApplExpr Mixfix="true">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word> _ ↦ _ </Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <TupleExpr>
                                                                <ApplExpr Mixfix="false">
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>params</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <NumExpr Value="1">
                                                                        <Anns>
                                                                            <ParenAnn/>
                                                                        </Anns>
                                                                    </NumExpr>
                                                                </ApplExpr>
                                                                <ApplExpr Mixfix="false">
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>constant</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <ApplExpr Mixfix="true">
                                                                        <Anns>
                                                                            <ParenAnn/>
                                                                        </Anns>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word> _ + _ </Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <TupleExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>o</Word>
                                                                                    <NumStroke Number="1"/>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>o</Word>
                                                                                    <NumStroke Number="2"/>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                        </TupleExpr>
                                                                    </ApplExpr>
                                                                </ApplExpr>
                                                            </TupleExpr>
                                                        </ApplExpr>
                                                    </SetExpr>
                                                </TupleExpr>
                                            </ApplExpr>
                                        </SetExpr>
                                    </MemPred>
                                    <MemPred Mixfix="true">
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>memory</Word>
                                                <NextStroke/>
                                            </RefName>
                                        </RefExpr>
                                        <SetExpr>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>memory</Word>
                                                </RefName>
                                            </RefExpr>
                                        </SetExpr>
                                    </MemPred>
                                </AndPred>
                                <MemPred Mixfix="true">
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>output</Word>
                                            <NextStroke/>
                                        </RefName>
                                    </RefExpr>
                                    <SetExpr>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>output</Word>
                                            </RefName>
                                        </RefExpr>
                                    </SetExpr>
                                </MemPred>
                            </AndPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

</Content>
        </NarrPara>
        <AxPara Box="SchBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>Sub</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>ΔSystem</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Sub_Inst</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <AndPred Op="NL">
                                <AndPred Op="NL">
                                    <MemPred Mixfix="true">
                                        <LetExpr>
                                            <SchText>
                                                <ConstDecl>
                                                    <DeclName>
                                                        <Word>o</Word>
                                                        <NumStroke Number="1"/>
                                                    </DeclName>
                                                    <ApplExpr Mixfix="false">
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>dereference</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <TupleExpr>
                                                            <ApplExpr Mixfix="false">
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>params</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <NumExpr Value="1">
                                                                    <Anns>
                                                                        <ParenAnn/>
                                                                    </Anns>
                                                                </NumExpr>
                                                            </ApplExpr>
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>registers</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                        </TupleExpr>
                                                    </ApplExpr>
                                                </ConstDecl>
                                                <ConstDecl>
                                                    <DeclName>
                                                        <Word>o</Word>
                                                        <NumStroke Number="2"/>
                                                    </DeclName>
                                                    <ApplExpr Mixfix="false">
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>dereference</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <TupleExpr>
                                                            <ApplExpr Mixfix="false">
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>params</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <NumExpr Value="2">
                                                                    <Anns>
                                                                        <ParenAnn/>
                                                                    </Anns>
                                                                </NumExpr>
                                                            </ApplExpr>
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>registers</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                        </TupleExpr>
                                                    </ApplExpr>
                                                </ConstDecl>
                                            </SchText>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>registers</Word>
                                                    <NextStroke/>
                                                </RefName>
                                            </RefExpr>
                                        </LetExpr>
                                        <SetExpr>
                                            <ApplExpr Mixfix="true">
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word> _ ⊕ _ </Word>
                                                    </RefName>
                                                </RefExpr>
                                                <TupleExpr>
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>registers</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <SetExpr>
                                                        <ApplExpr Mixfix="true">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word> _ ↦ _ </Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <TupleExpr>
                                                                <ApplExpr Mixfix="false">
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>params</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <NumExpr Value="1">
                                                                        <Anns>
                                                                            <ParenAnn/>
                                                                        </Anns>
                                                                    </NumExpr>
                                                                </ApplExpr>
                                                                <ApplExpr Mixfix="false">
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>constant</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <ApplExpr Mixfix="true">
                                                                        <Anns>
                                                                            <ParenAnn/>
                                                                        </Anns>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word> _ − _ </Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <TupleExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>o</Word>
                                                                                    <NumStroke Number="1"/>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>o</Word>
                                                                                    <NumStroke Number="2"/>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                        </TupleExpr>
                                                                    </ApplExpr>
                                                                </ApplExpr>
                                                            </TupleExpr>
                                                        </ApplExpr>
                                                    </SetExpr>
                                                </TupleExpr>
                                            </ApplExpr>
                                        </SetExpr>
                                    </MemPred>
                                    <MemPred Mixfix="true">
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>memory</Word>
                                                <NextStroke/>
                                            </RefName>
                                        </RefExpr>
                                        <SetExpr>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>memory</Word>
                                                </RefName>
                                            </RefExpr>
                                        </SetExpr>
                                    </MemPred>
                                </AndPred>
                                <MemPred Mixfix="true">
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>output</Word>
                                            <NextStroke/>
                                        </RefName>
                                    </RefExpr>
                                    <SetExpr>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>output</Word>
                                            </RefName>
                                        </RefExpr>
                                    </SetExpr>
                                </MemPred>
                            </AndPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

</Content>
        </NarrPara>
        <AxPara Box="SchBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>Mult</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>ΔSystem</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Mult_Inst</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <AndPred Op="NL">
                                <AndPred Op="NL">
                                    <MemPred Mixfix="true">
                                        <LetExpr>
                                            <SchText>
                                                <ConstDecl>
                                                    <DeclName>
                                                        <Word>o</Word>
                                                        <NumStroke Number="1"/>
                                                    </DeclName>
                                                    <ApplExpr Mixfix="false">
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>dereference</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <TupleExpr>
                                                            <ApplExpr Mixfix="false">
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>params</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <NumExpr Value="1">
                                                                    <Anns>
                                                                        <ParenAnn/>
                                                                    </Anns>
                                                                </NumExpr>
                                                            </ApplExpr>
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>registers</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                        </TupleExpr>
                                                    </ApplExpr>
                                                </ConstDecl>
                                                <ConstDecl>
                                                    <DeclName>
                                                        <Word>o</Word>
                                                        <NumStroke Number="2"/>
                                                    </DeclName>
                                                    <ApplExpr Mixfix="false">
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>dereference</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <TupleExpr>
                                                            <ApplExpr Mixfix="false">
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>params</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <NumExpr Value="2">
                                                                    <Anns>
                                                                        <ParenAnn/>
                                                                    </Anns>
                                                                </NumExpr>
                                                            </ApplExpr>
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>registers</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                        </TupleExpr>
                                                    </ApplExpr>
                                                </ConstDecl>
                                            </SchText>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>registers</Word>
                                                    <NextStroke/>
                                                </RefName>
                                            </RefExpr>
                                        </LetExpr>
                                        <SetExpr>
                                            <ApplExpr Mixfix="true">
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word> _ ⊕ _ </Word>
                                                    </RefName>
                                                </RefExpr>
                                                <TupleExpr>
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>registers</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <SetExpr>
                                                        <ApplExpr Mixfix="true">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word> _ ↦ _ </Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <TupleExpr>
                                                                <ApplExpr Mixfix="false">
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>params</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <NumExpr Value="1">
                                                                        <Anns>
                                                                            <ParenAnn/>
                                                                        </Anns>
                                                                    </NumExpr>
                                                                </ApplExpr>
                                                                <ApplExpr Mixfix="false">
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>constant</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <ApplExpr Mixfix="true">
                                                                        <Anns>
                                                                            <ParenAnn/>
                                                                        </Anns>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word> _ * _ </Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <TupleExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>o</Word>
                                                                                    <NumStroke Number="1"/>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>o</Word>
                                                                                    <NumStroke Number="2"/>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                        </TupleExpr>
                                                                    </ApplExpr>
                                                                </ApplExpr>
                                                            </TupleExpr>
                                                        </ApplExpr>
                                                    </SetExpr>
                                                </TupleExpr>
                                            </ApplExpr>
                                        </SetExpr>
                                    </MemPred>
                                    <MemPred Mixfix="true">
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>memory</Word>
                                                <NextStroke/>
                                            </RefName>
                                        </RefExpr>
                                        <SetExpr>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>memory</Word>
                                                </RefName>
                                            </RefExpr>
                                        </SetExpr>
                                    </MemPred>
                                </AndPred>
                                <MemPred Mixfix="true">
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>output</Word>
                                            <NextStroke/>
                                        </RefName>
                                    </RefExpr>
                                    <SetExpr>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>output</Word>
                                            </RefName>
                                        </RefExpr>
                                    </SetExpr>
                                </MemPred>
                            </AndPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

</Content>
        </NarrPara>
        <AxPara Box="SchBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>Div</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>ΔSystem</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Div_Inst</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <AndPred Op="NL">
                                <AndPred Op="NL">
                                    <MemPred Mixfix="true">
                                        <LetExpr>
                                            <SchText>
                                                <ConstDecl>
                                                    <DeclName>
                                                        <Word>o</Word>
                                                        <NumStroke Number="1"/>
                                                    </DeclName>
                                                    <ApplExpr Mixfix="false">
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>dereference</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <TupleExpr>
                                                            <ApplExpr Mixfix="false">
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>params</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <NumExpr Value="1">
                                                                    <Anns>
                                                                        <ParenAnn/>
                                                                    </Anns>
                                                                </NumExpr>
                                                            </ApplExpr>
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>registers</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                        </TupleExpr>
                                                    </ApplExpr>
                                                </ConstDecl>
                                                <ConstDecl>
                                                    <DeclName>
                                                        <Word>o</Word>
                                                        <NumStroke Number="2"/>
                                                    </DeclName>
                                                    <ApplExpr Mixfix="false">
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>dereference</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <TupleExpr>
                                                            <ApplExpr Mixfix="false">
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>params</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <NumExpr Value="2">
                                                                    <Anns>
                                                                        <ParenAnn/>
                                                                    </Anns>
                                                                </NumExpr>
                                                            </ApplExpr>
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>registers</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                        </TupleExpr>
                                                    </ApplExpr>
                                                </ConstDecl>
                                            </SchText>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>registers</Word>
                                                    <NextStroke/>
                                                </RefName>
                                            </RefExpr>
                                        </LetExpr>
                                        <SetExpr>
                                            <ApplExpr Mixfix="true">
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word> _ ⊕ _ </Word>
                                                    </RefName>
                                                </RefExpr>
                                                <TupleExpr>
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>registers</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <SetExpr>
                                                        <ApplExpr Mixfix="true">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word> _ ↦ _ </Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <TupleExpr>
                                                                <ApplExpr Mixfix="false">
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>params</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <NumExpr Value="1">
                                                                        <Anns>
                                                                            <ParenAnn/>
                                                                        </Anns>
                                                                    </NumExpr>
                                                                </ApplExpr>
                                                                <ApplExpr Mixfix="false">
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>constant</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <ApplExpr Mixfix="true">
                                                                        <Anns>
                                                                            <ParenAnn/>
                                                                        </Anns>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word> _ div _ </Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <TupleExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>o</Word>
                                                                                    <NumStroke Number="1"/>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>o</Word>
                                                                                    <NumStroke Number="2"/>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                        </TupleExpr>
                                                                    </ApplExpr>
                                                                </ApplExpr>
                                                            </TupleExpr>
                                                        </ApplExpr>
                                                    </SetExpr>
                                                </TupleExpr>
                                            </ApplExpr>
                                        </SetExpr>
                                    </MemPred>
                                    <MemPred Mixfix="true">
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>memory</Word>
                                                <NextStroke/>
                                            </RefName>
                                        </RefExpr>
                                        <SetExpr>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>memory</Word>
                                                </RefName>
                                            </RefExpr>
                                        </SetExpr>
                                    </MemPred>
                                </AndPred>
                                <MemPred Mixfix="true">
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>output</Word>
                                            <NextStroke/>
                                        </RefName>
                                    </RefExpr>
                                    <SetExpr>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>output</Word>
                                            </RefName>
                                        </RefExpr>
                                    </SetExpr>
                                </MemPred>
                            </AndPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

The {\tt load} operation loads a constant from memory. The second
parameter is an index to the memory location from which the constant
is loaded.

</Content>
        </NarrPara>
        <AxPara Box="SchBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>Load</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>ΔSystem</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Load_Inst</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <AndPred Op="NL">
                                <AndPred Op="NL">
                                    <MemPred Mixfix="true">
                                        <LetExpr>
                                            <SchText>
                                                <ConstDecl>
                                                    <DeclName>
                                                        <Word>o</Word>
                                                        <NumStroke Number="2"/>
                                                    </DeclName>
                                                    <ApplExpr Mixfix="false">
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>val</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <ApplExpr Mixfix="false">
                                                            <Anns>
                                                                <ParenAnn/>
                                                            </Anns>
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>params</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <NumExpr Value="2">
                                                                <Anns>
                                                                    <ParenAnn/>
                                                                </Anns>
                                                            </NumExpr>
                                                        </ApplExpr>
                                                    </ApplExpr>
                                                </ConstDecl>
                                            </SchText>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>registers</Word>
                                                    <NextStroke/>
                                                </RefName>
                                            </RefExpr>
                                        </LetExpr>
                                        <SetExpr>
                                            <ApplExpr Mixfix="true">
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word> _ ⊕ _ </Word>
                                                    </RefName>
                                                </RefExpr>
                                                <TupleExpr>
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>registers</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <SetExpr>
                                                        <ApplExpr Mixfix="true">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word> _ ↦ _ </Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <TupleExpr>
                                                                <ApplExpr Mixfix="false">
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>params</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <NumExpr Value="1">
                                                                        <Anns>
                                                                            <ParenAnn/>
                                                                        </Anns>
                                                                    </NumExpr>
                                                                </ApplExpr>
                                                                <ApplExpr Mixfix="false">
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>constant</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <ApplExpr Mixfix="false">
                                                                        <Anns>
                                                                            <ParenAnn/>
                                                                        </Anns>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>memory</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <RefExpr Mixfix="false">
                                                                            <Anns>
                                                                                <ParenAnn/>
                                                                            </Anns>
                                                                            <RefName>
                                                                                <Word>o</Word>
                                                                                <NumStroke Number="2"/>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                    </ApplExpr>
                                                                </ApplExpr>
                                                            </TupleExpr>
                                                        </ApplExpr>
                                                    </SetExpr>
                                                </TupleExpr>
                                            </ApplExpr>
                                        </SetExpr>
                                    </MemPred>
                                    <MemPred Mixfix="true">
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>memory</Word>
                                                <NextStroke/>
                                            </RefName>
                                        </RefExpr>
                                        <SetExpr>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>memory</Word>
                                                </RefName>
                                            </RefExpr>
                                        </SetExpr>
                                    </MemPred>
                                </AndPred>
                                <MemPred Mixfix="true">
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>output</Word>
                                            <NextStroke/>
                                        </RefName>
                                    </RefExpr>
                                    <SetExpr>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>output</Word>
                                            </RefName>
                                        </RefExpr>
                                    </SetExpr>
                                </MemPred>
                            </AndPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

{\tt loadConst} loads a constant into a register. The second parameter
the constant to be loaded.

</Content>
        </NarrPara>
        <AxPara Box="SchBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>Load_Const</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>ΔSystem</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>LoadConst_Inst</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <AndPred Op="NL">
                                <AndPred Op="NL">
                                    <MemPred Mixfix="true">
                                        <LetExpr>
                                            <SchText>
                                                <ConstDecl>
                                                    <DeclName>
                                                        <Word>o</Word>
                                                        <NumStroke Number="2"/>
                                                    </DeclName>
                                                    <ApplExpr Mixfix="false">
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>val</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <ApplExpr Mixfix="false">
                                                            <Anns>
                                                                <ParenAnn/>
                                                            </Anns>
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>params</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <NumExpr Value="2">
                                                                <Anns>
                                                                    <ParenAnn/>
                                                                </Anns>
                                                            </NumExpr>
                                                        </ApplExpr>
                                                    </ApplExpr>
                                                </ConstDecl>
                                            </SchText>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>registers</Word>
                                                    <NextStroke/>
                                                </RefName>
                                            </RefExpr>
                                        </LetExpr>
                                        <SetExpr>
                                            <ApplExpr Mixfix="true">
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word> _ ⊕ _ </Word>
                                                    </RefName>
                                                </RefExpr>
                                                <TupleExpr>
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>registers</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <SetExpr>
                                                        <ApplExpr Mixfix="true">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word> _ ↦ _ </Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <TupleExpr>
                                                                <ApplExpr Mixfix="false">
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>params</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <NumExpr Value="1">
                                                                        <Anns>
                                                                            <ParenAnn/>
                                                                        </Anns>
                                                                    </NumExpr>
                                                                </ApplExpr>
                                                                <ApplExpr Mixfix="false">
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>constant</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <RefExpr Mixfix="false">
                                                                        <Anns>
                                                                            <ParenAnn/>
                                                                        </Anns>
                                                                        <RefName>
                                                                            <Word>o</Word>
                                                                            <NumStroke Number="2"/>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                </ApplExpr>
                                                            </TupleExpr>
                                                        </ApplExpr>
                                                    </SetExpr>
                                                </TupleExpr>
                                            </ApplExpr>
                                        </SetExpr>
                                    </MemPred>
                                    <MemPred Mixfix="true">
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>memory</Word>
                                                <NextStroke/>
                                            </RefName>
                                        </RefExpr>
                                        <SetExpr>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>memory</Word>
                                                </RefName>
                                            </RefExpr>
                                        </SetExpr>
                                    </MemPred>
                                </AndPred>
                                <MemPred Mixfix="true">
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>output</Word>
                                            <NextStroke/>
                                        </RefName>
                                    </RefExpr>
                                    <SetExpr>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>output</Word>
                                            </RefName>
                                        </RefExpr>
                                    </SetExpr>
                                </MemPred>
                            </AndPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

Store the value of a register in memory.

</Content>
        </NarrPara>
        <AxPara Box="SchBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>Store</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>ΔSystem</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Store_Inst</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <AndPred Op="NL">
                                <AndPred Op="NL">
                                    <MemPred Mixfix="true">
                                        <LetExpr>
                                            <SchText>
                                                <ConstDecl>
                                                    <DeclName>
                                                        <Word>o</Word>
                                                        <NumStroke Number="1"/>
                                                    </DeclName>
                                                    <ApplExpr Mixfix="false">
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>dereference</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <TupleExpr>
                                                            <ApplExpr Mixfix="false">
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>params</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <NumExpr Value="1">
                                                                    <Anns>
                                                                        <ParenAnn/>
                                                                    </Anns>
                                                                </NumExpr>
                                                            </ApplExpr>
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>registers</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                        </TupleExpr>
                                                    </ApplExpr>
                                                </ConstDecl>
                                                <ConstDecl>
                                                    <DeclName>
                                                        <Word>o</Word>
                                                        <NumStroke Number="2"/>
                                                    </DeclName>
                                                    <ApplExpr Mixfix="false">
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>val</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <ApplExpr Mixfix="false">
                                                            <Anns>
                                                                <ParenAnn/>
                                                            </Anns>
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>params</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <NumExpr Value="2">
                                                                <Anns>
                                                                    <ParenAnn/>
                                                                </Anns>
                                                            </NumExpr>
                                                        </ApplExpr>
                                                    </ApplExpr>
                                                </ConstDecl>
                                            </SchText>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>memory</Word>
                                                    <NextStroke/>
                                                </RefName>
                                            </RefExpr>
                                        </LetExpr>
                                        <SetExpr>
                                            <ApplExpr Mixfix="true">
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word> _ ⊕ _ </Word>
                                                    </RefName>
                                                </RefExpr>
                                                <TupleExpr>
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>memory</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <SetExpr>
                                                        <ApplExpr Mixfix="true">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word> _ ↦ _ </Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <TupleExpr>
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>o</Word>
                                                                        <NumStroke Number="2"/>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>o</Word>
                                                                        <NumStroke Number="1"/>
                                                                    </RefName>
                                                                </RefExpr>
                                                            </TupleExpr>
                                                        </ApplExpr>
                                                    </SetExpr>
                                                </TupleExpr>
                                            </ApplExpr>
                                        </SetExpr>
                                    </MemPred>
                                    <MemPred Mixfix="true">
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>registers</Word>
                                                <NextStroke/>
                                            </RefName>
                                        </RefExpr>
                                        <SetExpr>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>registers</Word>
                                                </RefName>
                                            </RefExpr>
                                        </SetExpr>
                                    </MemPred>
                                </AndPred>
                                <MemPred Mixfix="true">
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>output</Word>
                                            <NextStroke/>
                                        </RefName>
                                    </RefExpr>
                                    <SetExpr>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>output</Word>
                                            </RefName>
                                        </RefExpr>
                                    </SetExpr>
                                </MemPred>
                            </AndPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

</Content>
        </NarrPara>
        <AxPara Box="SchBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>Print</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>ΞSystem</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Print_Inst</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <AndPred Op="NL">
                                <AndPred Op="NL">
                                    <MemPred Mixfix="true">
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>output</Word>
                                                <NextStroke/>
                                            </RefName>
                                        </RefExpr>
                                        <SetExpr>
                                            <ApplExpr Mixfix="true">
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word> _ ⁀ _ </Word>
                                                    </RefName>
                                                </RefExpr>
                                                <TupleExpr>
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>output</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <ApplExpr Mixfix="true">
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>⟨ _ ⟩</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <ApplExpr Mixfix="false">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>dereference</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <TupleExpr>
                                                                <ApplExpr Mixfix="false">
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>params</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <NumExpr Value="1">
                                                                        <Anns>
                                                                            <ParenAnn/>
                                                                        </Anns>
                                                                    </NumExpr>
                                                                </ApplExpr>
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>registers</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                            </TupleExpr>
                                                        </ApplExpr>
                                                    </ApplExpr>
                                                </TupleExpr>
                                            </ApplExpr>
                                        </SetExpr>
                                    </MemPred>
                                    <MemPred Mixfix="true">
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>registers</Word>
                                                <NextStroke/>
                                            </RefName>
                                        </RefExpr>
                                        <SetExpr>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>registers</Word>
                                                </RefName>
                                            </RefExpr>
                                        </SetExpr>
                                    </MemPred>
                                </AndPred>
                                <MemPred Mixfix="true">
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>memory</Word>
                                            <NextStroke/>
                                        </RefName>
                                    </RefExpr>
                                    <SetExpr>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>memory</Word>
                                            </RefName>
                                        </RefExpr>
                                    </SetExpr>
                                </MemPred>
                            </AndPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

</Content>
        </NarrPara>
        <AxPara Box="OmitBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>Stack_Inst</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Instruction</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <MemPred Mixfix="true">
                                <ApplExpr Mixfix="true">
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word># _ </Word>
                                        </RefName>
                                    </RefExpr>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>params</Word>
                                        </RefName>
                                    </RefExpr>
                                </ApplExpr>
                                <SetExpr>
                                    <NumExpr Value="1"/>
                                </SetExpr>
                            </MemPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <AxPara Box="OmitBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>Push_Inst</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Stack_Inst</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <MemPred Mixfix="true">
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>name</Word>
                                    </RefName>
                                </RefExpr>
                                <SetExpr>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>push</Word>
                                        </RefName>
                                    </RefExpr>
                                </SetExpr>
                            </MemPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <AxPara Box="OmitBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>Pop_Inst</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Stack_Inst</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <MemPred Mixfix="true">
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>name</Word>
                                    </RefName>
                                </RefExpr>
                                <SetExpr>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>pop</Word>
                                        </RefName>
                                    </RefExpr>
                                </SetExpr>
                            </MemPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

The specification of the stack instructions on the system.

</Content>
        </NarrPara>
        <AxPara Box="SchBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>Push0</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>ΞSystem</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>PushStack</Word>
                                    </RefName>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>WORD</Word>
                                        </RefName>
                                    </RefExpr>
                                </RefExpr>
                            </InclDecl>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Push_Inst</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <MemPred Mixfix="true">
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>x</Word>
                                        <InStroke/>
                                    </RefName>
                                </RefExpr>
                                <SetExpr>
                                    <ApplExpr Mixfix="false">
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>dereference</Word>
                                            </RefName>
                                        </RefExpr>
                                        <TupleExpr>
                                            <ApplExpr Mixfix="false">
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word>params</Word>
                                                    </RefName>
                                                </RefExpr>
                                                <NumExpr Value="1">
                                                    <Anns>
                                                        <ParenAnn/>
                                                    </Anns>
                                                </NumExpr>
                                            </ApplExpr>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>registers</Word>
                                                </RefName>
                                            </RefExpr>
                                        </TupleExpr>
                                    </ApplExpr>
                                </SetExpr>
                            </MemPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

</Content>
        </NarrPara>
        <AxPara Box="SchBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>Pop0</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>ΔSystem</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>PopStack</Word>
                                    </RefName>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>WORD</Word>
                                        </RefName>
                                    </RefExpr>
                                </RefExpr>
                            </InclDecl>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Pop_Inst</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <AndPred Op="NL">
                                <AndPred Op="NL">
                                    <MemPred Mixfix="true">
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>registers</Word>
                                                <NextStroke/>
                                            </RefName>
                                        </RefExpr>
                                        <SetExpr>
                                            <ApplExpr Mixfix="true">
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word> _ ⊕ _ </Word>
                                                    </RefName>
                                                </RefExpr>
                                                <TupleExpr>
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>registers</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <SetExpr>
                                                        <ApplExpr Mixfix="true">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word> _ ↦ _ </Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <TupleExpr>
                                                                <ApplExpr Mixfix="false">
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>params</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <NumExpr Value="1">
                                                                        <Anns>
                                                                            <ParenAnn/>
                                                                        </Anns>
                                                                    </NumExpr>
                                                                </ApplExpr>
                                                                <ApplExpr Mixfix="false">
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>constant</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <RefExpr Mixfix="false">
                                                                        <Anns>
                                                                            <ParenAnn/>
                                                                        </Anns>
                                                                        <RefName>
                                                                            <Word>x</Word>
                                                                            <OutStroke/>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                </ApplExpr>
                                                            </TupleExpr>
                                                        </ApplExpr>
                                                    </SetExpr>
                                                </TupleExpr>
                                            </ApplExpr>
                                        </SetExpr>
                                    </MemPred>
                                    <MemPred Mixfix="true">
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>memory</Word>
                                                <NextStroke/>
                                            </RefName>
                                        </RefExpr>
                                        <SetExpr>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>memory</Word>
                                                </RefName>
                                            </RefExpr>
                                        </SetExpr>
                                    </MemPred>
                                </AndPred>
                                <MemPred Mixfix="true">
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>output</Word>
                                            <NextStroke/>
                                        </RefName>
                                    </RefExpr>
                                    <SetExpr>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>output</Word>
                                            </RefName>
                                        </RefExpr>
                                    </SetExpr>
                                </MemPred>
                            </AndPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

</Content>
        </NarrPara>
        <AxPara Box="OmitBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>Push</Word>
                    </DeclName>
                    <ProjExpr>
                        <RefExpr Mixfix="false">
                            <RefName>
                                <Word>Push0</Word>
                            </RefName>
                        </RefExpr>
                        <SchExpr>
                            <SchText>
                                <InclDecl>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>System</Word>
                                        </RefName>
                                    </RefExpr>
                                </InclDecl>
                                <InclDecl>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>Stack</Word>
                                        </RefName>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>WORD</Word>
                                            </RefName>
                                        </RefExpr>
                                    </RefExpr>
                                </InclDecl>
                            </SchText>
                        </SchExpr>
                    </ProjExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <AxPara Box="OmitBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>Pop</Word>
                    </DeclName>
                    <ProjExpr>
                        <RefExpr Mixfix="false">
                            <RefName>
                                <Word>Pop0</Word>
                            </RefName>
                        </RefExpr>
                        <SchExpr>
                            <SchText>
                                <InclDecl>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>System</Word>
                                        </RefName>
                                    </RefExpr>
                                </InclDecl>
                                <InclDecl>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>Stack</Word>
                                        </RefName>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>WORD</Word>
                                            </RefName>
                                        </RefExpr>
                                    </RefExpr>
                                </InclDecl>
                            </SchText>
                        </SchExpr>
                    </ProjExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

This executes an instruction on the on the system. $inst?$ is the
instruction to execute, and $base?$ is the base memory value of the
executing process. If the instruction is a {\tt load} or {\tt store}
instruction, the memory reference must offset using the base value.

</Content>
        </NarrPara>
        <AxPara Box="SchBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>exec_inst</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>ΔSystem</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <VarDecl>
                                <DeclName>
                                    <Word>inst</Word>
                                    <InStroke/>
                                </DeclName>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Instruction</Word>
                                    </RefName>
                                </RefExpr>
                            </VarDecl>
                            <VarDecl>
                                <DeclName>
                                    <Word>base</Word>
                                    <InStroke/>
                                </DeclName>
                                <ApplExpr Mixfix="true">
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word> _ .. _ </Word>
                                        </RefName>
                                    </RefExpr>
                                    <TupleExpr>
                                        <NumExpr Value="1"/>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>mem_size</Word>
                                            </RefName>
                                        </RefExpr>
                                    </TupleExpr>
                                </ApplExpr>
                            </VarDecl>
                            <ExistsPred>
                                <SchText>
                                    <VarDecl>
                                        <DeclName>
                                            <Word>label</Word>
                                        </DeclName>
                                        <PowerExpr>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>LABEL</Word>
                                                </RefName>
                                            </RefExpr>
                                        </PowerExpr>
                                    </VarDecl>
                                    <VarDecl>
                                        <DeclName>
                                            <Word>name</Word>
                                        </DeclName>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>INST_NAME</Word>
                                            </RefName>
                                        </RefExpr>
                                    </VarDecl>
                                    <VarDecl>
                                        <DeclName>
                                            <Word>params</Word>
                                        </DeclName>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>seqOPERAND</Word>
                                            </RefName>
                                        </RefExpr>
                                    </VarDecl>
                                    <AndPred Op="And">
                                        <AndPred Op="And">
                                            <MemPred Mixfix="true">
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word>label</Word>
                                                    </RefName>
                                                </RefExpr>
                                                <SetExpr>
                                                    <BindSelExpr>
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>inst</Word>
                                                                <InStroke/>
                                                            </RefName>
                                                        </RefExpr>
                                                        <Name>
                                                            <Word>label</Word>
                                                        </Name>
                                                    </BindSelExpr>
                                                </SetExpr>
                                            </MemPred>
                                            <MemPred Mixfix="true">
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word>name</Word>
                                                    </RefName>
                                                </RefExpr>
                                                <SetExpr>
                                                    <BindSelExpr>
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>inst</Word>
                                                                <InStroke/>
                                                            </RefName>
                                                        </RefExpr>
                                                        <Name>
                                                            <Word>name</Word>
                                                        </Name>
                                                    </BindSelExpr>
                                                </SetExpr>
                                            </MemPred>
                                        </AndPred>
                                        <MemPred Mixfix="true">
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>params</Word>
                                                </RefName>
                                            </RefExpr>
                                            <SetExpr>
                                                <BindSelExpr>
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>inst</Word>
                                                            <InStroke/>
                                                        </RefName>
                                                    </RefExpr>
                                                    <Name>
                                                        <Word>params</Word>
                                                    </Name>
                                                </BindSelExpr>
                                            </SetExpr>
                                        </MemPred>
                                    </AndPred>
                                </SchText>
                                <ImpliesPred>
                                    <OrPred>
                                        <ExprPred>
                                            <OrExpr>
                                                <OrExpr>
                                                    <OrExpr>
                                                        <OrExpr>
                                                            <OrExpr>
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>Add</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>Sub</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                            </OrExpr>
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>Mult</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                        </OrExpr>
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>Div</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                    </OrExpr>
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>Print</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                </OrExpr>
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word>Load_Const</Word>
                                                    </RefName>
                                                </RefExpr>
                                            </OrExpr>
                                        </ExprPred>
                                        <MemPred Mixfix="false">
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>name</Word>
                                                </RefName>
                                            </RefExpr>
                                            <SetExpr>
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word>load</Word>
                                                    </RefName>
                                                </RefExpr>
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word>store</Word>
                                                    </RefName>
                                                </RefExpr>
                                            </SetExpr>
                                        </MemPred>
                                    </OrPred>
                                    <ExprPred>
                                        <Anns>
                                            <ParenAnn/>
                                        </Anns>
                                        <ExistsExpr>
                                            <SchText>
                                                <VarDecl>
                                                    <DeclName>
                                                        <Word>p</Word>
                                                    </DeclName>
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>seqOPERAND</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                </VarDecl>
                                                <MemPred Mixfix="true">
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>p</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <SetExpr>
                                                        <ApplExpr Mixfix="true">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>⟨ _ ⟩</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <TupleExpr>
                                                                <ApplExpr Mixfix="false">
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>params</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <NumExpr Value="1">
                                                                        <Anns>
                                                                            <ParenAnn/>
                                                                        </Anns>
                                                                    </NumExpr>
                                                                </ApplExpr>
                                                                <ApplExpr Mixfix="false">
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>constant</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <ApplExpr Mixfix="true">
                                                                        <Anns>
                                                                            <ParenAnn/>
                                                                        </Anns>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word> _ + _ </Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <TupleExpr>
                                                                            <ApplExpr Mixfix="false">
                                                                                <RefExpr Mixfix="false">
                                                                                    <RefName>
                                                                                        <Word>val</Word>
                                                                                    </RefName>
                                                                                </RefExpr>
                                                                                <ApplExpr Mixfix="false">
                                                                                    <Anns>
                                                                                        <ParenAnn/>
                                                                                    </Anns>
                                                                                    <RefExpr Mixfix="false">
                                                                                        <RefName>
                                                                                            <Word>params</Word>
                                                                                        </RefName>
                                                                                    </RefExpr>
                                                                                    <NumExpr Value="2">
                                                                                        <Anns>
                                                                                            <ParenAnn/>
                                                                                        </Anns>
                                                                                    </NumExpr>
                                                                                </ApplExpr>
                                                                            </ApplExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>base</Word>
                                                                                    <InStroke/>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                        </TupleExpr>
                                                                    </ApplExpr>
                                                                </ApplExpr>
                                                            </TupleExpr>
                                                        </ApplExpr>
                                                    </SetExpr>
                                                </MemPred>
                                            </SchText>
                                            <OrExpr>
                                                <RenameExpr>
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>Load</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <NameNamePair>
                                                        <OldName>
                                                            <Word>p</Word>
                                                        </OldName>
                                                        <NewName>
                                                            <Word>params</Word>
                                                        </NewName>
                                                    </NameNamePair>
                                                </RenameExpr>
                                                <RenameExpr>
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>Store</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <NameNamePair>
                                                        <OldName>
                                                            <Word>p</Word>
                                                        </OldName>
                                                        <NewName>
                                                            <Word>params</Word>
                                                        </NewName>
                                                    </NameNamePair>
                                                </RenameExpr>
                                            </OrExpr>
                                        </ExistsExpr>
                                    </ExprPred>
                                </ImpliesPred>
                            </ExistsPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

\zpagebreak

</Content>
        </NarrPara>
    </ZSect>
    <ZSect>
        <Name>Scheduler</Name>
        <Parent>
            <Word>System</Word>
        </Parent>
        <NarrPara>
            <Content>

This part of the specification is the scheduler.

Here, we declare the set of process IDs, the priority values, and the
default number of credits a process receives when it is created.

</Content>
        </NarrPara>
        <AxPara Box="OmitBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>Pid</Word>
                    </DeclName>
                    <RefExpr Mixfix="false">
                        <RefName>
                            <Word>ℕ</Word>
                        </RefName>
                    </RefExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <AxPara Box="OmitBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>Priority</Word>
                    </DeclName>
                    <ApplExpr Mixfix="true">
                        <RefExpr Mixfix="false">
                            <RefName>
                                <Word> _ .. _ </Word>
                            </RefName>
                        </RefExpr>
                        <TupleExpr>
                            <ApplExpr Mixfix="true">
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>- _ </Word>
                                    </RefName>
                                </RefExpr>
                                <NumExpr Value="19"/>
                            </ApplExpr>
                            <NumExpr Value="19"/>
                        </TupleExpr>
                    </ApplExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <AxPara Box="OmitBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>Default_Credits</Word>
                    </DeclName>
                    <NumExpr Value="10"/>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

The possible status that a process can hold.

</Content>
        </NarrPara>
        <FreePara>
            <Freetype>
                <DeclName>
                    <Word>Status</Word>
                </DeclName>
                <Branch>
                    <DeclName>
                        <Word>pWaiting</Word>
                    </DeclName>
                </Branch>
                <Branch>
                    <DeclName>
                        <Word>pReady</Word>
                    </DeclName>
                </Branch>
                <Branch>
                    <DeclName>
                        <Word>pRunning</Word>
                    </DeclName>
                </Branch>
            </Freetype>
        </FreePara>
        <NarrPara>
            <Content>

A process consists of a process ID, a status, a number of credits, and
a priority. Each process has a sequence of instructions to be executed
on the assembler, with a pointer to the current instruction. The
memory that a process can occupy is between a base and limit
value. Instructions must only access memory with a value less than the
limit, but they know nothing about the base value - this is added onto
the memory index provided by the instruction when an instruction is
executed. Each procss also contains a stack and values for all
registers, which are used to store values when the process is
suspended.

</Content>
        </NarrPara>
        <AxPara Box="SchBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>Processes</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <VarDecl>
                                <DeclName>
                                    <Word>pids</Word>
                                </DeclName>
                                <PowerExpr>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>Pid</Word>
                                        </RefName>
                                    </RefExpr>
                                </PowerExpr>
                            </VarDecl>
                            <VarDecl>
                                <DeclName>
                                    <Word>status</Word>
                                </DeclName>
                                <RefExpr Mixfix="true">
                                    <RefName>
                                        <Word> _ ⇸ _ </Word>
                                    </RefName>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>Pid</Word>
                                        </RefName>
                                    </RefExpr>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>Status</Word>
                                        </RefName>
                                    </RefExpr>
                                </RefExpr>
                            </VarDecl>
                            <VarDecl>
                                <DeclName>
                                    <Word>credits</Word>
                                </DeclName>
                                <RefExpr Mixfix="true">
                                    <RefName>
                                        <Word> _ ⇸ _ </Word>
                                    </RefName>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>Pid</Word>
                                        </RefName>
                                    </RefExpr>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>ℕ</Word>
                                        </RefName>
                                    </RefExpr>
                                </RefExpr>
                            </VarDecl>
                            <VarDecl>
                                <DeclName>
                                    <Word>priority</Word>
                                </DeclName>
                                <RefExpr Mixfix="true">
                                    <RefName>
                                        <Word> _ ⇸ _ </Word>
                                    </RefName>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>Pid</Word>
                                        </RefName>
                                    </RefExpr>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>Priority</Word>
                                        </RefName>
                                    </RefExpr>
                                </RefExpr>
                            </VarDecl>
                            <VarDecl>
                                <DeclName>
                                    <Word>instructions</Word>
                                </DeclName>
                                <RefExpr Mixfix="true">
                                    <RefName>
                                        <Word> _ ⇸ _ </Word>
                                    </RefName>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>Pid</Word>
                                        </RefName>
                                    </RefExpr>
                                    <RefExpr Mixfix="false">
                                        <Anns>
                                            <ParenAnn/>
                                        </Anns>
                                        <RefName>
                                            <Word>seqInstruction</Word>
                                        </RefName>
                                    </RefExpr>
                                </RefExpr>
                            </VarDecl>
                            <VarDecl>
                                <DeclName>
                                    <Word>inst_pointer</Word>
                                </DeclName>
                                <RefExpr Mixfix="true">
                                    <RefName>
                                        <Word> _ ⇸ _ </Word>
                                    </RefName>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>Pid</Word>
                                        </RefName>
                                    </RefExpr>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>ℕ</Word>
                                            <NumStroke Number="1"/>
                                        </RefName>
                                    </RefExpr>
                                </RefExpr>
                            </VarDecl>
                            <VarDecl>
                                <DeclName>
                                    <Word>base</Word>
                                </DeclName>
                                <DeclName>
                                    <Word>limit</Word>
                                </DeclName>
                                <RefExpr Mixfix="true">
                                    <RefName>
                                        <Word> _ ⇸ _ </Word>
                                    </RefName>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>Pid</Word>
                                        </RefName>
                                    </RefExpr>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>WORD</Word>
                                        </RefName>
                                    </RefExpr>
                                </RefExpr>
                            </VarDecl>
                            <VarDecl>
                                <DeclName>
                                    <Word>pregisters</Word>
                                </DeclName>
                                <RefExpr Mixfix="true">
                                    <RefName>
                                        <Word> _ ⇸ _ </Word>
                                    </RefName>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>Pid</Word>
                                        </RefName>
                                    </RefExpr>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>REGISTERS</Word>
                                        </RefName>
                                    </RefExpr>
                                </RefExpr>
                            </VarDecl>
                            <VarDecl>
                                <DeclName>
                                    <Word>pstack</Word>
                                </DeclName>
                                <RefExpr Mixfix="true">
                                    <RefName>
                                        <Word> _ ⇸ _ </Word>
                                    </RefName>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>Pid</Word>
                                        </RefName>
                                    </RefExpr>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>Stack</Word>
                                        </RefName>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>WORD</Word>
                                            </RefName>
                                        </RefExpr>
                                    </RefExpr>
                                </RefExpr>
                            </VarDecl>
                            <AndPred Op="NL">
                                <AndPred Op="NL">
                                    <AndPred Op="Chain">
                                        <AndPred Op="Chain">
                                            <AndPred Op="Chain">
                                                <AndPred Op="Chain">
                                                    <AndPred Op="Chain">
                                                        <AndPred Op="Chain">
                                                            <AndPred Op="Chain">
                                                                <MemPred Mixfix="true">
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>pids</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <SetExpr>
                                                                        <ApplExpr Mixfix="false">
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>dom</Word>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <Anns>
                                                                                    <ParenAnn/>
                                                                                </Anns>
                                                                                <RefName>
                                                                                    <Word>status</Word>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                        </ApplExpr>
                                                                    </SetExpr>
                                                                </MemPred>
                                                                <MemPred Mixfix="true">
                                                                    <ApplExpr Mixfix="false">
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>dom</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <RefExpr Mixfix="false">
                                                                            <Anns>
                                                                                <ParenAnn/>
                                                                            </Anns>
                                                                            <RefName>
                                                                                <Word>status</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                    </ApplExpr>
                                                                    <SetExpr>
                                                                        <ApplExpr Mixfix="false">
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>dom</Word>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <Anns>
                                                                                    <ParenAnn/>
                                                                                </Anns>
                                                                                <RefName>
                                                                                    <Word>credits</Word>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                        </ApplExpr>
                                                                    </SetExpr>
                                                                </MemPred>
                                                            </AndPred>
                                                            <MemPred Mixfix="true">
                                                                <ApplExpr Mixfix="false">
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>dom</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <RefExpr Mixfix="false">
                                                                        <Anns>
                                                                            <ParenAnn/>
                                                                        </Anns>
                                                                        <RefName>
                                                                            <Word>credits</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                </ApplExpr>
                                                                <SetExpr>
                                                                    <ApplExpr Mixfix="false">
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>dom</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <RefExpr Mixfix="false">
                                                                            <Anns>
                                                                                <ParenAnn/>
                                                                            </Anns>
                                                                            <RefName>
                                                                                <Word>priority</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                    </ApplExpr>
                                                                </SetExpr>
                                                            </MemPred>
                                                        </AndPred>
                                                        <MemPred Mixfix="true">
                                                            <ApplExpr Mixfix="false">
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>dom</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <RefExpr Mixfix="false">
                                                                    <Anns>
                                                                        <ParenAnn/>
                                                                    </Anns>
                                                                    <RefName>
                                                                        <Word>priority</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                            </ApplExpr>
                                                            <SetExpr>
                                                                <ApplExpr Mixfix="false">
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>dom</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <RefExpr Mixfix="false">
                                                                        <Anns>
                                                                            <ParenAnn/>
                                                                        </Anns>
                                                                        <RefName>
                                                                            <Word>instructions</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                </ApplExpr>
                                                            </SetExpr>
                                                        </MemPred>
                                                    </AndPred>
                                                    <MemPred Mixfix="true">
                                                        <ApplExpr Mixfix="false">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>dom</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <RefExpr Mixfix="false">
                                                                <Anns>
                                                                    <ParenAnn/>
                                                                </Anns>
                                                                <RefName>
                                                                    <Word>instructions</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                        </ApplExpr>
                                                        <SetExpr>
                                                            <ApplExpr Mixfix="false">
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>dom</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <RefExpr Mixfix="false">
                                                                    <Anns>
                                                                        <ParenAnn/>
                                                                    </Anns>
                                                                    <RefName>
                                                                        <Word>inst_pointer</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                            </ApplExpr>
                                                        </SetExpr>
                                                    </MemPred>
                                                </AndPred>
                                                <MemPred Mixfix="true">
                                                    <ApplExpr Mixfix="false">
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>dom</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <RefExpr Mixfix="false">
                                                            <Anns>
                                                                <ParenAnn/>
                                                            </Anns>
                                                            <RefName>
                                                                <Word>inst_pointer</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                    </ApplExpr>
                                                    <SetExpr>
                                                        <ApplExpr Mixfix="false">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>dom</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <RefExpr Mixfix="false">
                                                                <Anns>
                                                                    <ParenAnn/>
                                                                </Anns>
                                                                <RefName>
                                                                    <Word>base</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                        </ApplExpr>
                                                    </SetExpr>
                                                </MemPred>
                                            </AndPred>
                                            <MemPred Mixfix="true">
                                                <ApplExpr Mixfix="false">
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>dom</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <RefExpr Mixfix="false">
                                                        <Anns>
                                                            <ParenAnn/>
                                                        </Anns>
                                                        <RefName>
                                                            <Word>base</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                </ApplExpr>
                                                <SetExpr>
                                                    <ApplExpr Mixfix="false">
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>dom</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <RefExpr Mixfix="false">
                                                            <Anns>
                                                                <ParenAnn/>
                                                            </Anns>
                                                            <RefName>
                                                                <Word>limit</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                    </ApplExpr>
                                                </SetExpr>
                                            </MemPred>
                                        </AndPred>
                                        <MemPred Mixfix="true">
                                            <ApplExpr Mixfix="false">
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word>dom</Word>
                                                    </RefName>
                                                </RefExpr>
                                                <RefExpr Mixfix="false">
                                                    <Anns>
                                                        <ParenAnn/>
                                                    </Anns>
                                                    <RefName>
                                                        <Word>limit</Word>
                                                    </RefName>
                                                </RefExpr>
                                            </ApplExpr>
                                            <SetExpr>
                                                <ApplExpr Mixfix="false">
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>dom</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <RefExpr Mixfix="false">
                                                        <Anns>
                                                            <ParenAnn/>
                                                        </Anns>
                                                        <RefName>
                                                            <Word>pstack</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                </ApplExpr>
                                            </SetExpr>
                                        </MemPred>
                                    </AndPred>
                                    <ForallPred>
                                        <SchText>
                                            <VarDecl>
                                                <DeclName>
                                                    <Word>pid</Word>
                                                </DeclName>
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word>pids</Word>
                                                    </RefName>
                                                </RefExpr>
                                            </VarDecl>
                                        </SchText>
                                        <MemPred Mixfix="true">
                                            <TupleExpr>
                                                <ApplExpr Mixfix="false">
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>inst_pointer</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <RefExpr Mixfix="false">
                                                        <Anns>
                                                            <ParenAnn/>
                                                        </Anns>
                                                        <RefName>
                                                            <Word>pid</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                </ApplExpr>
                                                <ApplExpr Mixfix="true">
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word># _ </Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <ApplExpr Mixfix="false">
                                                        <Anns>
                                                            <ParenAnn/>
                                                        </Anns>
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>instructions</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <RefExpr Mixfix="false">
                                                            <Anns>
                                                                <ParenAnn/>
                                                            </Anns>
                                                            <RefName>
                                                                <Word>pid</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                    </ApplExpr>
                                                </ApplExpr>
                                            </TupleExpr>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word> _ ≤ _ </Word>
                                                </RefName>
                                            </RefExpr>
                                        </MemPred>
                                    </ForallPred>
                                </AndPred>
                                <ForallPred>
                                    <SchText>
                                        <VarDecl>
                                            <DeclName>
                                                <Word>pid</Word>
                                            </DeclName>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>pids</Word>
                                                </RefName>
                                            </RefExpr>
                                        </VarDecl>
                                    </SchText>
                                    <MemPred Mixfix="true">
                                        <TupleExpr>
                                            <ApplExpr Mixfix="true">
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word> _ + _ </Word>
                                                    </RefName>
                                                </RefExpr>
                                                <TupleExpr>
                                                    <ApplExpr Mixfix="false">
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>base</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <RefExpr Mixfix="false">
                                                            <Anns>
                                                                <ParenAnn/>
                                                            </Anns>
                                                            <RefName>
                                                                <Word>pid</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                    </ApplExpr>
                                                    <ApplExpr Mixfix="false">
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>limit</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <RefExpr Mixfix="false">
                                                            <Anns>
                                                                <ParenAnn/>
                                                            </Anns>
                                                            <RefName>
                                                                <Word>pid</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                    </ApplExpr>
                                                </TupleExpr>
                                            </ApplExpr>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>mem_size</Word>
                                                </RefName>
                                            </RefExpr>
                                        </TupleExpr>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word> _ ≤ _ </Word>
                                            </RefName>
                                        </RefExpr>
                                    </MemPred>
                                </ForallPred>
                            </AndPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

The $sort$ function takes the credits and priorities of all processes,
and returns a sequence of process IDS sorted firstly by their credits
(the more credits a process has, the higher preference they get), and
if the credits are equal, then their priority. If the priority is
equal, then the order is non-deterministic.

</Content>
        </NarrPara>
        <AxPara Box="AxBox">
            <SchText>
                <VarDecl>
                    <DeclName>
                        <Word>sort</Word>
                    </DeclName>
                    <RefExpr Mixfix="true">
                        <RefName>
                            <Word> _ ⇸ _ </Word>
                        </RefName>
                        <ProdExpr>
                            <RefExpr Mixfix="true">
                                <Anns>
                                    <ParenAnn/>
                                </Anns>
                                <RefName>
                                    <Word> _ ⇸ _ </Word>
                                </RefName>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Pid</Word>
                                    </RefName>
                                </RefExpr>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>ℕ</Word>
                                    </RefName>
                                </RefExpr>
                            </RefExpr>
                            <RefExpr Mixfix="true">
                                <Anns>
                                    <ParenAnn/>
                                </Anns>
                                <RefName>
                                    <Word> _ ⇸ _ </Word>
                                </RefName>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Pid</Word>
                                    </RefName>
                                </RefExpr>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Priority</Word>
                                    </RefName>
                                </RefExpr>
                            </RefExpr>
                        </ProdExpr>
                        <RefExpr Mixfix="true">
                            <RefName>
                                <Word>iseq _ </Word>
                            </RefName>
                            <RefExpr Mixfix="false">
                                <RefName>
                                    <Word>Pid</Word>
                                </RefName>
                            </RefExpr>
                        </RefExpr>
                    </RefExpr>
                </VarDecl>
                <MemPred Mixfix="true">
                    <RefExpr Mixfix="false">
                        <RefName>
                            <Word>sort</Word>
                        </RefName>
                    </RefExpr>
                    <SetExpr>
                        <LambdaExpr>
                            <Anns>
                                <ParenAnn/>
                            </Anns>
                            <SchText>
                                <VarDecl>
                                    <DeclName>
                                        <Word>credits</Word>
                                    </DeclName>
                                    <RefExpr Mixfix="true">
                                        <Anns>
                                            <ParenAnn/>
                                        </Anns>
                                        <RefName>
                                            <Word> _ ⇸ _ </Word>
                                        </RefName>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>Pid</Word>
                                            </RefName>
                                        </RefExpr>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>ℕ</Word>
                                            </RefName>
                                        </RefExpr>
                                    </RefExpr>
                                </VarDecl>
                                <VarDecl>
                                    <DeclName>
                                        <Word>priority</Word>
                                    </DeclName>
                                    <RefExpr Mixfix="true">
                                        <Anns>
                                            <ParenAnn/>
                                        </Anns>
                                        <RefName>
                                            <Word> _ ⇸ _ </Word>
                                        </RefName>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>Pid</Word>
                                            </RefName>
                                        </RefExpr>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>Priority</Word>
                                            </RefName>
                                        </RefExpr>
                                    </RefExpr>
                                </VarDecl>
                                <MemPred Mixfix="true">
                                    <ApplExpr Mixfix="false">
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>dom</Word>
                                            </RefName>
                                        </RefExpr>
                                        <RefExpr Mixfix="false">
                                            <Anns>
                                                <ParenAnn/>
                                            </Anns>
                                            <RefName>
                                                <Word>credits</Word>
                                            </RefName>
                                        </RefExpr>
                                    </ApplExpr>
                                    <SetExpr>
                                        <ApplExpr Mixfix="false">
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>dom</Word>
                                                </RefName>
                                            </RefExpr>
                                            <RefExpr Mixfix="false">
                                                <Anns>
                                                    <ParenAnn/>
                                                </Anns>
                                                <RefName>
                                                    <Word>priority</Word>
                                                </RefName>
                                            </RefExpr>
                                        </ApplExpr>
                                    </SetExpr>
                                </MemPred>
                            </SchText>
                            <MuExpr>
                                <Anns>
                                    <ParenAnn/>
                                </Anns>
                                <SchText>
                                    <VarDecl>
                                        <DeclName>
                                            <Word>s</Word>
                                        </DeclName>
                                        <RefExpr Mixfix="true">
                                            <RefName>
                                                <Word>iseq _ </Word>
                                            </RefName>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>Pid</Word>
                                                </RefName>
                                            </RefExpr>
                                        </RefExpr>
                                    </VarDecl>
                                    <AndPred Op="And">
                                        <MemPred Mixfix="true">
                                            <ApplExpr Mixfix="false">
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word>ran</Word>
                                                    </RefName>
                                                </RefExpr>
                                                <RefExpr Mixfix="false">
                                                    <Anns>
                                                        <ParenAnn/>
                                                    </Anns>
                                                    <RefName>
                                                        <Word>s</Word>
                                                    </RefName>
                                                </RefExpr>
                                            </ApplExpr>
                                            <SetExpr>
                                                <ApplExpr Mixfix="false">
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>dom</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <RefExpr Mixfix="false">
                                                        <Anns>
                                                            <ParenAnn/>
                                                        </Anns>
                                                        <RefName>
                                                            <Word>credits</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                </ApplExpr>
                                            </SetExpr>
                                        </MemPred>
                                        <ForallPred>
                                            <Anns>
                                                <ParenAnn/>
                                            </Anns>
                                            <SchText>
                                                <VarDecl>
                                                    <DeclName>
                                                        <Word>i</Word>
                                                    </DeclName>
                                                    <ApplExpr Mixfix="true">
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word> _ .. _ </Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <TupleExpr>
                                                            <NumExpr Value="1"/>
                                                            <ApplExpr Mixfix="true">
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word> _ − _ </Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <TupleExpr>
                                                                    <ApplExpr Mixfix="true">
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word># _ </Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>s</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                    </ApplExpr>
                                                                    <NumExpr Value="1"/>
                                                                </TupleExpr>
                                                            </ApplExpr>
                                                        </TupleExpr>
                                                    </ApplExpr>
                                                </VarDecl>
                                            </SchText>
                                            <OrPred>
                                                <MemPred Mixfix="true">
                                                    <TupleExpr>
                                                        <ApplExpr Mixfix="false">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>credits</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <ApplExpr Mixfix="false">
                                                                <Anns>
                                                                    <ParenAnn/>
                                                                </Anns>
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>s</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <RefExpr Mixfix="false">
                                                                    <Anns>
                                                                        <ParenAnn/>
                                                                    </Anns>
                                                                    <RefName>
                                                                        <Word>i</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                            </ApplExpr>
                                                        </ApplExpr>
                                                        <ApplExpr Mixfix="false">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>credits</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <ApplExpr Mixfix="false">
                                                                <Anns>
                                                                    <ParenAnn/>
                                                                </Anns>
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>s</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <ApplExpr Mixfix="true">
                                                                    <Anns>
                                                                        <ParenAnn/>
                                                                    </Anns>
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word> _ + _ </Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <TupleExpr>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>i</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <NumExpr Value="1"/>
                                                                    </TupleExpr>
                                                                </ApplExpr>
                                                            </ApplExpr>
                                                        </ApplExpr>
                                                    </TupleExpr>
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word> _ &gt; _ </Word>
                                                        </RefName>
                                                    </RefExpr>
                                                </MemPred>
                                                <AndPred Op="And">
                                                    <Anns>
                                                        <ParenAnn/>
                                                    </Anns>
                                                    <MemPred Mixfix="true">
                                                        <ApplExpr Mixfix="false">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>credits</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <ApplExpr Mixfix="false">
                                                                <Anns>
                                                                    <ParenAnn/>
                                                                </Anns>
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>s</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <RefExpr Mixfix="false">
                                                                    <Anns>
                                                                        <ParenAnn/>
                                                                    </Anns>
                                                                    <RefName>
                                                                        <Word>i</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                            </ApplExpr>
                                                        </ApplExpr>
                                                        <SetExpr>
                                                            <ApplExpr Mixfix="false">
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>credits</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <ApplExpr Mixfix="false">
                                                                    <Anns>
                                                                        <ParenAnn/>
                                                                    </Anns>
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>s</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <ApplExpr Mixfix="true">
                                                                        <Anns>
                                                                            <ParenAnn/>
                                                                        </Anns>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word> _ + _ </Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <TupleExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>i</Word>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                            <NumExpr Value="1"/>
                                                                        </TupleExpr>
                                                                    </ApplExpr>
                                                                </ApplExpr>
                                                            </ApplExpr>
                                                        </SetExpr>
                                                    </MemPred>
                                                    <MemPred Mixfix="true">
                                                        <TupleExpr>
                                                            <ApplExpr Mixfix="false">
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>priority</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <ApplExpr Mixfix="false">
                                                                    <Anns>
                                                                        <ParenAnn/>
                                                                    </Anns>
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>s</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <RefExpr Mixfix="false">
                                                                        <Anns>
                                                                            <ParenAnn/>
                                                                        </Anns>
                                                                        <RefName>
                                                                            <Word>i</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                </ApplExpr>
                                                            </ApplExpr>
                                                            <ApplExpr Mixfix="false">
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>priority</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <ApplExpr Mixfix="false">
                                                                    <Anns>
                                                                        <ParenAnn/>
                                                                    </Anns>
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>s</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <RefExpr Mixfix="false">
                                                                        <Anns>
                                                                            <ParenAnn/>
                                                                        </Anns>
                                                                        <RefName>
                                                                            <Word>i</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                </ApplExpr>
                                                            </ApplExpr>
                                                        </TupleExpr>
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word> _ &gt; _ </Word>
                                                            </RefName>
                                                        </RefExpr>
                                                    </MemPred>
                                                </AndPred>
                                            </OrPred>
                                        </ForallPred>
                                    </AndPred>
                                </SchText>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>s</Word>
                                    </RefName>
                                </RefExpr>
                            </MuExpr>
                        </LambdaExpr>
                    </SetExpr>
                </MemPred>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

To interrupt a process during execution, the kernel must be in $kernel$ mode.

</Content>
        </NarrPara>
        <FreePara>
            <Freetype>
                <DeclName>
                    <Word>Mode</Word>
                </DeclName>
                <Branch>
                    <DeclName>
                        <Word>user</Word>
                    </DeclName>
                </Branch>
                <Branch>
                    <DeclName>
                        <Word>kernel</Word>
                    </DeclName>
                </Branch>
            </Freetype>
        </FreePara>
        <NarrPara>
            <Content>

For the scheduler, we track which mode the operating system is in, as
well as declaring three ``secondary'' variables, $waiting$, $running$,
and $ready$, to keep the sets of waiting running, and ready variables
respecitvely. In fact, $ready$ is a sequence, and is ordered based on
the credits that each process has. A process with more credits will
have a higher priority. This is fair scheduling, because at each timer
interrupt (the $tick$ operation specified below), the current process
losses one credit, therefore, process spending a lot of time executing
will eventually have a low priority.

</Content>
        </NarrPara>
        <AxPara Box="SchBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>Scheduler</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Processes</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>System</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Stack</Word>
                                    </RefName>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>WORD</Word>
                                        </RefName>
                                    </RefExpr>
                                </RefExpr>
                            </InclDecl>
                            <VarDecl>
                                <DeclName>
                                    <Word>mode</Word>
                                </DeclName>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Mode</Word>
                                    </RefName>
                                </RefExpr>
                            </VarDecl>
                            <VarDecl>
                                <DeclName>
                                    <Word>waiting</Word>
                                </DeclName>
                                <DeclName>
                                    <Word>running</Word>
                                </DeclName>
                                <PowerExpr>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>Pid</Word>
                                        </RefName>
                                    </RefExpr>
                                </PowerExpr>
                            </VarDecl>
                            <VarDecl>
                                <DeclName>
                                    <Word>ready</Word>
                                </DeclName>
                                <RefExpr Mixfix="true">
                                    <RefName>
                                        <Word>iseq _ </Word>
                                    </RefName>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>Pid</Word>
                                        </RefName>
                                    </RefExpr>
                                </RefExpr>
                            </VarDecl>
                            <AndPred Op="NL">
                                <AndPred Op="NL">
                                    <AndPred Op="NL">
                                        <AndPred Op="NL">
                                            <AndPred Op="NL">
                                                <AndPred Op="NL">
                                                    <AndPred Op="NL">
                                                        <MemPred Mixfix="true">
                                                            <TupleExpr>
                                                                <ApplExpr Mixfix="true">
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word># _ </Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>running</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                </ApplExpr>
                                                                <NumExpr Value="1"/>
                                                            </TupleExpr>
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word> _ ≤ _ </Word>
                                                                </RefName>
                                                            </RefExpr>
                                                        </MemPred>
                                                        <MemPred Mixfix="true">
                                                            <ApplExpr Mixfix="true">
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word> _ ∩ _ </Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <TupleExpr>
                                                                    <ApplExpr Mixfix="true">
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word> _ ∩ _ </Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <TupleExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>waiting</Word>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>running</Word>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                        </TupleExpr>
                                                                    </ApplExpr>
                                                                    <ApplExpr Mixfix="false">
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>ran</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>ready</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                    </ApplExpr>
                                                                </TupleExpr>
                                                            </ApplExpr>
                                                            <SetExpr>
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>∅</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                            </SetExpr>
                                                        </MemPred>
                                                    </AndPred>
                                                    <MemPred Mixfix="true">
                                                        <ApplExpr Mixfix="true">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word> _ ∪ _ </Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <TupleExpr>
                                                                <ApplExpr Mixfix="true">
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word> _ ∪ _ </Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <TupleExpr>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>waiting</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>running</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                    </TupleExpr>
                                                                </ApplExpr>
                                                                <ApplExpr Mixfix="false">
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>ran</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>ready</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                </ApplExpr>
                                                            </TupleExpr>
                                                        </ApplExpr>
                                                        <SetExpr>
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>pids</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                        </SetExpr>
                                                    </MemPred>
                                                </AndPred>
                                                <MemPred Mixfix="true">
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>waiting</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <SetExpr>
                                                        <SetCompExpr>
                                                            <SchText>
                                                                <VarDecl>
                                                                    <DeclName>
                                                                        <Word>p</Word>
                                                                    </DeclName>
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>pids</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                </VarDecl>
                                                                <MemPred Mixfix="true">
                                                                    <ApplExpr Mixfix="false">
                                                                        <ApplExpr Mixfix="true">
                                                                            <Anns>
                                                                                <ParenAnn/>
                                                                            </Anns>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word> _ ∼</Word>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>status</Word>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                        </ApplExpr>
                                                                        <RefExpr Mixfix="false">
                                                                            <Anns>
                                                                                <ParenAnn/>
                                                                            </Anns>
                                                                            <RefName>
                                                                                <Word>pWaiting</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                    </ApplExpr>
                                                                    <SetExpr>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>p</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                    </SetExpr>
                                                                </MemPred>
                                                            </SchText>
                                                        </SetCompExpr>
                                                    </SetExpr>
                                                </MemPred>
                                            </AndPred>
                                            <MemPred Mixfix="true">
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word>running</Word>
                                                    </RefName>
                                                </RefExpr>
                                                <SetExpr>
                                                    <SetCompExpr>
                                                        <SchText>
                                                            <VarDecl>
                                                                <DeclName>
                                                                    <Word>p</Word>
                                                                </DeclName>
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>pids</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                            </VarDecl>
                                                            <MemPred Mixfix="true">
                                                                <ApplExpr Mixfix="false">
                                                                    <ApplExpr Mixfix="true">
                                                                        <Anns>
                                                                            <ParenAnn/>
                                                                        </Anns>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word> _ ∼</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>status</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                    </ApplExpr>
                                                                    <RefExpr Mixfix="false">
                                                                        <Anns>
                                                                            <ParenAnn/>
                                                                        </Anns>
                                                                        <RefName>
                                                                            <Word>pRunning</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                </ApplExpr>
                                                                <SetExpr>
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>p</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                </SetExpr>
                                                            </MemPred>
                                                        </SchText>
                                                    </SetCompExpr>
                                                </SetExpr>
                                            </MemPred>
                                        </AndPred>
                                        <MemPred Mixfix="true">
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>ready</Word>
                                                </RefName>
                                            </RefExpr>
                                            <SetExpr>
                                                <ApplExpr Mixfix="false">
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>sort</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <TupleExpr>
                                                        <ApplExpr Mixfix="true">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word> _ ⩤ _ </Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <TupleExpr>
                                                                <ApplExpr Mixfix="true">
                                                                    <Anns>
                                                                        <ParenAnn/>
                                                                    </Anns>
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word> _ ∪ _ </Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <TupleExpr>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>waiting</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>running</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                    </TupleExpr>
                                                                </ApplExpr>
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>credits</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                            </TupleExpr>
                                                        </ApplExpr>
                                                        <ApplExpr Mixfix="true">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word> _ ⩤ _ </Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <TupleExpr>
                                                                <ApplExpr Mixfix="true">
                                                                    <Anns>
                                                                        <ParenAnn/>
                                                                    </Anns>
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word> _ ∪ _ </Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <TupleExpr>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>waiting</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>running</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                    </TupleExpr>
                                                                </ApplExpr>
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>priority</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                            </TupleExpr>
                                                        </ApplExpr>
                                                    </TupleExpr>
                                                </ApplExpr>
                                            </SetExpr>
                                        </MemPred>
                                    </AndPred>
                                    <ForallPred>
                                        <SchText>
                                            <VarDecl>
                                                <DeclName>
                                                    <Word>r</Word>
                                                </DeclName>
                                                <ApplExpr Mixfix="false">
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>ran</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <RefExpr Mixfix="false">
                                                        <Anns>
                                                            <ParenAnn/>
                                                        </Anns>
                                                        <RefName>
                                                            <Word>ready</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                </ApplExpr>
                                            </VarDecl>
                                        </SchText>
                                        <MemPred Mixfix="true">
                                            <ApplExpr Mixfix="false">
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word>status</Word>
                                                    </RefName>
                                                </RefExpr>
                                                <RefExpr Mixfix="false">
                                                    <Anns>
                                                        <ParenAnn/>
                                                    </Anns>
                                                    <RefName>
                                                        <Word>r</Word>
                                                    </RefName>
                                                </RefExpr>
                                            </ApplExpr>
                                            <SetExpr>
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word>pReady</Word>
                                                    </RefName>
                                                </RefExpr>
                                            </SetExpr>
                                        </MemPred>
                                    </ForallPred>
                                </AndPred>
                                <ForallPred>
                                    <SchText>
                                        <VarDecl>
                                            <DeclName>
                                                <Word>r</Word>
                                            </DeclName>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>running</Word>
                                                </RefName>
                                            </RefExpr>
                                        </VarDecl>
                                    </SchText>
                                    <MemPred Mixfix="true">
                                        <TupleExpr>
                                            <ApplExpr Mixfix="false">
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word>credits</Word>
                                                    </RefName>
                                                </RefExpr>
                                                <RefExpr Mixfix="false">
                                                    <Anns>
                                                        <ParenAnn/>
                                                    </Anns>
                                                    <RefName>
                                                        <Word>r</Word>
                                                    </RefName>
                                                </RefExpr>
                                            </ApplExpr>
                                            <NumExpr Value="0"/>
                                        </TupleExpr>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word> _ &gt; _ </Word>
                                            </RefName>
                                        </RefExpr>
                                    </MemPred>
                                </ForallPred>
                            </AndPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

This uses semicolons as conjunctions for predicates, which conforms to
the grammar in the ISO standard, but according to the list of
differences between ZRM and ISO Z on Ian Toyn's website, semicolons
can no longer be used to conjoin predicates.

</Content>
        </NarrPara>
        <AxPara Box="SchBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>InitScheduler</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Scheduler</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>InitStack</Word>
                                    </RefName>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>WORD</Word>
                                        </RefName>
                                    </RefExpr>
                                </RefExpr>
                            </InclDecl>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>InitSystem</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <AndPred Op="NL">
                                <AndPred Op="NL">
                                    <AndPred Op="Semi">
                                        <AndPred Op="Semi">
                                            <AndPred Op="Semi">
                                                <AndPred Op="NL">
                                                    <AndPred Op="NL">
                                                        <AndPred Op="NL">
                                                            <AndPred Op="Chain">
                                                                <AndPred Op="Chain">
                                                                    <MemPred Mixfix="true">
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>pids</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <SetExpr>
                                                                            <ApplExpr Mixfix="false">
                                                                                <RefExpr Mixfix="false">
                                                                                    <RefName>
                                                                                        <Word>∅;</Word>
                                                                                    </RefName>
                                                                                </RefExpr>
                                                                                <RefExpr Mixfix="false">
                                                                                    <RefName>
                                                                                        <Word>status</Word>
                                                                                    </RefName>
                                                                                </RefExpr>
                                                                            </ApplExpr>
                                                                        </SetExpr>
                                                                    </MemPred>
                                                                    <MemPred Mixfix="true">
                                                                        <ApplExpr Mixfix="false">
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>∅;</Word>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>status</Word>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                        </ApplExpr>
                                                                        <SetExpr>
                                                                            <ApplExpr Mixfix="false">
                                                                                <RefExpr Mixfix="false">
                                                                                    <RefName>
                                                                                        <Word>∅;</Word>
                                                                                    </RefName>
                                                                                </RefExpr>
                                                                                <RefExpr Mixfix="false">
                                                                                    <RefName>
                                                                                        <Word>priority</Word>
                                                                                    </RefName>
                                                                                </RefExpr>
                                                                            </ApplExpr>
                                                                        </SetExpr>
                                                                    </MemPred>
                                                                </AndPred>
                                                                <MemPred Mixfix="true">
                                                                    <ApplExpr Mixfix="false">
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>∅;</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>priority</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                    </ApplExpr>
                                                                    <SetExpr>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>∅</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                    </SetExpr>
                                                                </MemPred>
                                                            </AndPred>
                                                            <AndPred Op="Chain">
                                                                <AndPred Op="Chain">
                                                                    <MemPred Mixfix="true">
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>credits</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <SetExpr>
                                                                            <ApplExpr Mixfix="false">
                                                                                <RefExpr Mixfix="false">
                                                                                    <RefName>
                                                                                        <Word>∅;</Word>
                                                                                    </RefName>
                                                                                </RefExpr>
                                                                                <RefExpr Mixfix="false">
                                                                                    <RefName>
                                                                                        <Word>instructions</Word>
                                                                                    </RefName>
                                                                                </RefExpr>
                                                                            </ApplExpr>
                                                                        </SetExpr>
                                                                    </MemPred>
                                                                    <MemPred Mixfix="true">
                                                                        <ApplExpr Mixfix="false">
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>∅;</Word>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>instructions</Word>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                        </ApplExpr>
                                                                        <SetExpr>
                                                                            <ApplExpr Mixfix="false">
                                                                                <RefExpr Mixfix="false">
                                                                                    <RefName>
                                                                                        <Word>∅;</Word>
                                                                                    </RefName>
                                                                                </RefExpr>
                                                                                <RefExpr Mixfix="false">
                                                                                    <RefName>
                                                                                        <Word>inst_pointer</Word>
                                                                                    </RefName>
                                                                                </RefExpr>
                                                                            </ApplExpr>
                                                                        </SetExpr>
                                                                    </MemPred>
                                                                </AndPred>
                                                                <MemPred Mixfix="true">
                                                                    <ApplExpr Mixfix="false">
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>∅;</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>inst_pointer</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                    </ApplExpr>
                                                                    <SetExpr>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>∅</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                    </SetExpr>
                                                                </MemPred>
                                                            </AndPred>
                                                        </AndPred>
                                                        <AndPred Op="Chain">
                                                            <AndPred Op="Chain">
                                                                <MemPred Mixfix="true">
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>waiting</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <SetExpr>
                                                                        <ApplExpr Mixfix="false">
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>∅;</Word>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>running</Word>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                        </ApplExpr>
                                                                    </SetExpr>
                                                                </MemPred>
                                                                <MemPred Mixfix="true">
                                                                    <ApplExpr Mixfix="false">
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>∅;</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>running</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                    </ApplExpr>
                                                                    <SetExpr>
                                                                        <ApplExpr Mixfix="false">
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>∅;</Word>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>ready</Word>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                        </ApplExpr>
                                                                    </SetExpr>
                                                                </MemPred>
                                                            </AndPred>
                                                            <MemPred Mixfix="true">
                                                                <ApplExpr Mixfix="false">
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>∅;</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>ready</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                </ApplExpr>
                                                                <SetExpr>
                                                                    <ApplExpr Mixfix="true">
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>⟨ _ ⟩</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <TupleExpr/>
                                                                    </ApplExpr>
                                                                </SetExpr>
                                                            </MemPred>
                                                        </AndPred>
                                                    </AndPred>
                                                    <MemPred Mixfix="true">
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>instructions</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <SetExpr>
                                                            <SetExpr/>
                                                        </SetExpr>
                                                    </MemPred>
                                                </AndPred>
                                                <MemPred Mixfix="true">
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>inst_pointer</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <SetExpr>
                                                        <SetExpr/>
                                                    </SetExpr>
                                                </MemPred>
                                            </AndPred>
                                            <MemPred Mixfix="true">
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word>base</Word>
                                                    </RefName>
                                                </RefExpr>
                                                <SetExpr>
                                                    <SetExpr/>
                                                </SetExpr>
                                            </MemPred>
                                        </AndPred>
                                        <MemPred Mixfix="true">
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>limit</Word>
                                                </RefName>
                                            </RefExpr>
                                            <SetExpr>
                                                <SetExpr/>
                                            </SetExpr>
                                        </MemPred>
                                    </AndPred>
                                    <MemPred Mixfix="true">
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>pregisters</Word>
                                            </RefName>
                                        </RefExpr>
                                        <SetExpr>
                                            <SetExpr/>
                                        </SetExpr>
                                    </MemPred>
                                </AndPred>
                                <MemPred Mixfix="true">
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>mode</Word>
                                        </RefName>
                                    </RefExpr>
                                    <SetExpr>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>user</Word>
                                            </RefName>
                                        </RefExpr>
                                    </SetExpr>
                                </MemPred>
                            </AndPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

$newProcess$ creates a new process with a unique process ID and a
specified priority, and places this new process on the ready queue.

</Content>
        </NarrPara>
        <AxPara Box="SchBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>create_new_process</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>ΔScheduler</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>ΞSystem</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <VarDecl>
                                <DeclName>
                                    <Word>priority</Word>
                                    <InStroke/>
                                </DeclName>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Priority</Word>
                                    </RefName>
                                </RefExpr>
                            </VarDecl>
                            <VarDecl>
                                <DeclName>
                                    <Word>instructions</Word>
                                    <InStroke/>
                                </DeclName>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>seqInstruction</Word>
                                    </RefName>
                                </RefExpr>
                            </VarDecl>
                            <VarDecl>
                                <DeclName>
                                    <Word>base</Word>
                                    <InStroke/>
                                </DeclName>
                                <DeclName>
                                    <Word>limit</Word>
                                    <InStroke/>
                                </DeclName>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>WORD</Word>
                                    </RefName>
                                </RefExpr>
                            </VarDecl>
                            <VarDecl>
                                <DeclName>
                                    <Word>pid</Word>
                                    <OutStroke/>
                                </DeclName>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Pid</Word>
                                    </RefName>
                                </RefExpr>
                            </VarDecl>
                            <AndPred Op="NL">
                                <AndPred Op="NL">
                                    <AndPred Op="NL">
                                        <AndPred Op="NL">
                                            <AndPred Op="NL">
                                                <AndPred Op="NL">
                                                    <AndPred Op="NL">
                                                        <AndPred Op="NL">
                                                            <AndPred Op="NL">
                                                                <AndPred Op="NL">
                                                                    <MemPred Mixfix="true">
                                                                        <TupleExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>pid</Word>
                                                                                    <OutStroke/>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>pids</Word>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                        </TupleExpr>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word> _ ∉ _ </Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                    </MemPred>
                                                                    <MemPred Mixfix="true">
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>status</Word>
                                                                                <NextStroke/>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <SetExpr>
                                                                            <ApplExpr Mixfix="true">
                                                                                <RefExpr Mixfix="false">
                                                                                    <RefName>
                                                                                        <Word> _ ∪ _ </Word>
                                                                                    </RefName>
                                                                                </RefExpr>
                                                                                <TupleExpr>
                                                                                    <RefExpr Mixfix="false">
                                                                                        <RefName>
                                                                                            <Word>status</Word>
                                                                                        </RefName>
                                                                                    </RefExpr>
                                                                                    <SetExpr>
                                                                                        <ApplExpr Mixfix="true">
                                                                                            <RefExpr Mixfix="false">
                                                                                                <RefName>
                                                                                                    <Word> _ ↦ _ </Word>
                                                                                                </RefName>
                                                                                            </RefExpr>
                                                                                            <TupleExpr>
                                                                                                <RefExpr Mixfix="false">
                                                                                                    <RefName>
                                                                                                        <Word>pid</Word>
                                                                                                        <OutStroke/>
                                                                                                    </RefName>
                                                                                                </RefExpr>
                                                                                                <RefExpr Mixfix="false">
                                                                                                    <RefName>
                                                                                                        <Word>pReady</Word>
                                                                                                    </RefName>
                                                                                                </RefExpr>
                                                                                            </TupleExpr>
                                                                                        </ApplExpr>
                                                                                    </SetExpr>
                                                                                </TupleExpr>
                                                                            </ApplExpr>
                                                                        </SetExpr>
                                                                    </MemPred>
                                                                </AndPred>
                                                                <MemPred Mixfix="true">
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>credits</Word>
                                                                            <NextStroke/>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <SetExpr>
                                                                        <ApplExpr Mixfix="true">
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word> _ ∪ _ </Word>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                            <TupleExpr>
                                                                                <RefExpr Mixfix="false">
                                                                                    <RefName>
                                                                                        <Word>credits</Word>
                                                                                    </RefName>
                                                                                </RefExpr>
                                                                                <SetExpr>
                                                                                    <ApplExpr Mixfix="true">
                                                                                        <RefExpr Mixfix="false">
                                                                                            <RefName>
                                                                                                <Word> _ ↦ _ </Word>
                                                                                            </RefName>
                                                                                        </RefExpr>
                                                                                        <TupleExpr>
                                                                                            <RefExpr Mixfix="false">
                                                                                                <RefName>
                                                                                                    <Word>pid</Word>
                                                                                                    <OutStroke/>
                                                                                                </RefName>
                                                                                            </RefExpr>
                                                                                            <RefExpr Mixfix="false">
                                                                                                <RefName>
                                                                                                    <Word>Default_Credits</Word>
                                                                                                </RefName>
                                                                                            </RefExpr>
                                                                                        </TupleExpr>
                                                                                    </ApplExpr>
                                                                                </SetExpr>
                                                                            </TupleExpr>
                                                                        </ApplExpr>
                                                                    </SetExpr>
                                                                </MemPred>
                                                            </AndPred>
                                                            <MemPred Mixfix="true">
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>priority</Word>
                                                                        <NextStroke/>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <SetExpr>
                                                                    <ApplExpr Mixfix="true">
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word> _ ∪ _ </Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <TupleExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>priority</Word>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                            <SetExpr>
                                                                                <ApplExpr Mixfix="true">
                                                                                    <RefExpr Mixfix="false">
                                                                                        <RefName>
                                                                                            <Word> _ ↦ _ </Word>
                                                                                        </RefName>
                                                                                    </RefExpr>
                                                                                    <TupleExpr>
                                                                                        <RefExpr Mixfix="false">
                                                                                            <RefName>
                                                                                                <Word>pid</Word>
                                                                                                <OutStroke/>
                                                                                            </RefName>
                                                                                        </RefExpr>
                                                                                        <RefExpr Mixfix="false">
                                                                                            <RefName>
                                                                                                <Word>priority</Word>
                                                                                                <InStroke/>
                                                                                            </RefName>
                                                                                        </RefExpr>
                                                                                    </TupleExpr>
                                                                                </ApplExpr>
                                                                            </SetExpr>
                                                                        </TupleExpr>
                                                                    </ApplExpr>
                                                                </SetExpr>
                                                            </MemPred>
                                                        </AndPred>
                                                        <MemPred Mixfix="true">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>instructions</Word>
                                                                    <NextStroke/>
                                                                </RefName>
                                                            </RefExpr>
                                                            <SetExpr>
                                                                <ApplExpr Mixfix="true">
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word> _ ∪ _ </Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <TupleExpr>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>instructions</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <SetExpr>
                                                                            <ApplExpr Mixfix="true">
                                                                                <RefExpr Mixfix="false">
                                                                                    <RefName>
                                                                                        <Word> _ ↦ _ </Word>
                                                                                    </RefName>
                                                                                </RefExpr>
                                                                                <TupleExpr>
                                                                                    <RefExpr Mixfix="false">
                                                                                        <RefName>
                                                                                            <Word>pid</Word>
                                                                                            <OutStroke/>
                                                                                        </RefName>
                                                                                    </RefExpr>
                                                                                    <RefExpr Mixfix="false">
                                                                                        <RefName>
                                                                                            <Word>instructions</Word>
                                                                                            <InStroke/>
                                                                                        </RefName>
                                                                                    </RefExpr>
                                                                                </TupleExpr>
                                                                            </ApplExpr>
                                                                        </SetExpr>
                                                                    </TupleExpr>
                                                                </ApplExpr>
                                                            </SetExpr>
                                                        </MemPred>
                                                    </AndPred>
                                                    <MemPred Mixfix="true">
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>inst_pointer</Word>
                                                                <NextStroke/>
                                                            </RefName>
                                                        </RefExpr>
                                                        <SetExpr>
                                                            <ApplExpr Mixfix="true">
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word> _ ∪ _ </Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <TupleExpr>
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>inst_pointer</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <SetExpr>
                                                                        <ApplExpr Mixfix="true">
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word> _ ↦ _ </Word>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                            <TupleExpr>
                                                                                <RefExpr Mixfix="false">
                                                                                    <RefName>
                                                                                        <Word>pid</Word>
                                                                                        <OutStroke/>
                                                                                    </RefName>
                                                                                </RefExpr>
                                                                                <NumExpr Value="1"/>
                                                                            </TupleExpr>
                                                                        </ApplExpr>
                                                                    </SetExpr>
                                                                </TupleExpr>
                                                            </ApplExpr>
                                                        </SetExpr>
                                                    </MemPred>
                                                </AndPred>
                                                <MemPred Mixfix="true">
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>base</Word>
                                                            <NextStroke/>
                                                        </RefName>
                                                    </RefExpr>
                                                    <SetExpr>
                                                        <ApplExpr Mixfix="true">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word> _ ∪ _ </Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <TupleExpr>
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>base</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <SetExpr>
                                                                    <ApplExpr Mixfix="true">
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word> _ ↦ _ </Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <TupleExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>pid</Word>
                                                                                    <OutStroke/>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>base</Word>
                                                                                    <InStroke/>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                        </TupleExpr>
                                                                    </ApplExpr>
                                                                </SetExpr>
                                                            </TupleExpr>
                                                        </ApplExpr>
                                                    </SetExpr>
                                                </MemPred>
                                            </AndPred>
                                            <MemPred Mixfix="true">
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word>limit</Word>
                                                        <NextStroke/>
                                                    </RefName>
                                                </RefExpr>
                                                <SetExpr>
                                                    <ApplExpr Mixfix="true">
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word> _ ∪ _ </Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <TupleExpr>
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>limit</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <SetExpr>
                                                                <ApplExpr Mixfix="true">
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word> _ ↦ _ </Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <TupleExpr>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>pid</Word>
                                                                                <OutStroke/>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>limit</Word>
                                                                                <InStroke/>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                    </TupleExpr>
                                                                </ApplExpr>
                                                            </SetExpr>
                                                        </TupleExpr>
                                                    </ApplExpr>
                                                </SetExpr>
                                            </MemPred>
                                        </AndPred>
                                        <MemPred Mixfix="true">
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>pregisters</Word>
                                                    <NextStroke/>
                                                </RefName>
                                            </RefExpr>
                                            <SetExpr>
                                                <ApplExpr Mixfix="true">
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word> _ ∪ _ </Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <TupleExpr>
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>pregisters</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <SetExpr>
                                                            <ApplExpr Mixfix="true">
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word> _ ↦ _ </Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <TupleExpr>
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>pid</Word>
                                                                            <OutStroke/>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <SetCompExpr>
                                                                        <SchText>
                                                                            <VarDecl>
                                                                                <DeclName>
                                                                                    <Word>r</Word>
                                                                                </DeclName>
                                                                                <RefExpr Mixfix="false">
                                                                                    <RefName>
                                                                                        <Word>REGISTER</Word>
                                                                                    </RefName>
                                                                                </RefExpr>
                                                                            </VarDecl>
                                                                        </SchText>
                                                                        <ApplExpr Mixfix="true">
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word> _ ↦ _ </Word>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                            <TupleExpr>
                                                                                <RefExpr Mixfix="false">
                                                                                    <RefName>
                                                                                        <Word>r</Word>
                                                                                    </RefName>
                                                                                </RefExpr>
                                                                                <ApplExpr Mixfix="false">
                                                                                    <RefExpr Mixfix="false">
                                                                                        <RefName>
                                                                                            <Word>constant</Word>
                                                                                        </RefName>
                                                                                    </RefExpr>
                                                                                    <ApplExpr Mixfix="true">
                                                                                        <Anns>
                                                                                            <ParenAnn/>
                                                                                        </Anns>
                                                                                        <RefExpr Mixfix="false">
                                                                                            <RefName>
                                                                                                <Word>min _ </Word>
                                                                                            </RefName>
                                                                                        </RefExpr>
                                                                                        <RefExpr Mixfix="false">
                                                                                            <Anns>
                                                                                                <ParenAnn/>
                                                                                            </Anns>
                                                                                            <RefName>
                                                                                                <Word>WORD</Word>
                                                                                            </RefName>
                                                                                        </RefExpr>
                                                                                    </ApplExpr>
                                                                                </ApplExpr>
                                                                            </TupleExpr>
                                                                        </ApplExpr>
                                                                    </SetCompExpr>
                                                                </TupleExpr>
                                                            </ApplExpr>
                                                        </SetExpr>
                                                    </TupleExpr>
                                                </ApplExpr>
                                            </SetExpr>
                                        </MemPred>
                                    </AndPred>
                                    <MemPred Mixfix="true">
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>pstack</Word>
                                                <NextStroke/>
                                            </RefName>
                                        </RefExpr>
                                        <SetExpr>
                                            <ApplExpr Mixfix="true">
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word> _ ∪ _ </Word>
                                                    </RefName>
                                                </RefExpr>
                                                <TupleExpr>
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>pstack</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <SetExpr>
                                                        <ApplExpr Mixfix="true">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word> _ ↦ _ </Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <TupleExpr>
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>pid</Word>
                                                                        <OutStroke/>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <BindExpr>
                                                                    <Anns>
                                                                        <ParenAnn/>
                                                                    </Anns>
                                                                    <NameExprPair>
                                                                        <Name>
                                                                            <Word>stack</Word>
                                                                        </Name>
                                                                        <ApplExpr Mixfix="true">
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>⟨ _ ⟩</Word>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                            <TupleExpr/>
                                                                        </ApplExpr>
                                                                    </NameExprPair>
                                                                </BindExpr>
                                                            </TupleExpr>
                                                        </ApplExpr>
                                                    </SetExpr>
                                                </TupleExpr>
                                            </ApplExpr>
                                        </SetExpr>
                                    </MemPred>
                                </AndPred>
                                <MemPred Mixfix="true">
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>pids</Word>
                                            <NextStroke/>
                                        </RefName>
                                    </RefExpr>
                                    <SetExpr>
                                        <ApplExpr Mixfix="true">
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word> _ ∪ _ </Word>
                                                </RefName>
                                            </RefExpr>
                                            <TupleExpr>
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word>pids</Word>
                                                    </RefName>
                                                </RefExpr>
                                                <SetExpr>
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>pid</Word>
                                                            <OutStroke/>
                                                        </RefName>
                                                    </RefExpr>
                                                </SetExpr>
                                            </TupleExpr>
                                        </ApplExpr>
                                    </SetExpr>
                                </MemPred>
                            </AndPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

We define a schema that contains only the variables that do not change
when a reschedule occurs.

</Content>
        </NarrPara>
        <AxPara Box="OmitBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>RescheduleChange</Word>
                    </DeclName>
                    <HideExpr>
                        <RefExpr Mixfix="false">
                            <RefName>
                                <Word>Scheduler</Word>
                            </RefName>
                        </RefExpr>
                        <Name>
                            <Word>status</Word>
                        </Name>
                        <Name>
                            <Word>running</Word>
                        </Name>
                        <Name>
                            <Word>ready</Word>
                        </Name>
                        <Name>
                            <Word>waiting</Word>
                        </Name>
                        <Name>
                            <Word>credits</Word>
                        </Name>
                    </HideExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

A reschedule occurs when all ready processes have no credits. Every
process, not just the ready processes, have their credits
re-calculated using the formula $credits = credits/2 + priority$. This
implies that the ready process with the highest priority will be the
next process executed.

</Content>
        </NarrPara>
        <AxPara Box="SchBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>reschedule</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>ΔScheduler</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>ΞRescheduleChange</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <AndPred Op="NL">
                                <AndPred Op="NL">
                                    <MemPred Mixfix="true">
                                        <TupleExpr>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>ready</Word>
                                                </RefName>
                                            </RefExpr>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>∅</Word>
                                                </RefName>
                                            </RefExpr>
                                        </TupleExpr>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word> _ ≠ _ </Word>
                                            </RefName>
                                        </RefExpr>
                                    </MemPred>
                                    <ForallPred>
                                        <SchText>
                                            <VarDecl>
                                                <DeclName>
                                                    <Word>r</Word>
                                                </DeclName>
                                                <ApplExpr Mixfix="false">
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>ran</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <RefExpr Mixfix="false">
                                                        <Anns>
                                                            <ParenAnn/>
                                                        </Anns>
                                                        <RefName>
                                                            <Word>ready</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                </ApplExpr>
                                            </VarDecl>
                                        </SchText>
                                        <ImpliesPred>
                                            <MemPred Mixfix="true">
                                                <ApplExpr Mixfix="false">
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>credits</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <RefExpr Mixfix="false">
                                                        <Anns>
                                                            <ParenAnn/>
                                                        </Anns>
                                                        <RefName>
                                                            <Word>r</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                </ApplExpr>
                                                <SetExpr>
                                                    <NumExpr Value="0"/>
                                                </SetExpr>
                                            </MemPred>
                                            <AndPred Op="And">
                                                <MemPred Mixfix="true">
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>credits</Word>
                                                            <NextStroke/>
                                                        </RefName>
                                                    </RefExpr>
                                                    <SetExpr>
                                                        <SetCompExpr>
                                                            <SchText>
                                                                <VarDecl>
                                                                    <DeclName>
                                                                        <Word>p</Word>
                                                                    </DeclName>
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>pids</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                </VarDecl>
                                                            </SchText>
                                                            <ApplExpr Mixfix="true">
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word> _ ↦ _ </Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <TupleExpr>
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>p</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <ApplExpr Mixfix="true">
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word> _ + _ </Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <TupleExpr>
                                                                            <ApplExpr Mixfix="true">
                                                                                <Anns>
                                                                                    <ParenAnn/>
                                                                                </Anns>
                                                                                <RefExpr Mixfix="false">
                                                                                    <RefName>
                                                                                        <Word> _ div _ </Word>
                                                                                    </RefName>
                                                                                </RefExpr>
                                                                                <TupleExpr>
                                                                                    <ApplExpr Mixfix="false">
                                                                                        <RefExpr Mixfix="false">
                                                                                            <RefName>
                                                                                                <Word>credits</Word>
                                                                                            </RefName>
                                                                                        </RefExpr>
                                                                                        <RefExpr Mixfix="false">
                                                                                            <Anns>
                                                                                                <ParenAnn/>
                                                                                            </Anns>
                                                                                            <RefName>
                                                                                                <Word>p</Word>
                                                                                            </RefName>
                                                                                        </RefExpr>
                                                                                    </ApplExpr>
                                                                                    <NumExpr Value="2"/>
                                                                                </TupleExpr>
                                                                            </ApplExpr>
                                                                            <ApplExpr Mixfix="false">
                                                                                <RefExpr Mixfix="false">
                                                                                    <RefName>
                                                                                        <Word>priority</Word>
                                                                                    </RefName>
                                                                                </RefExpr>
                                                                                <RefExpr Mixfix="false">
                                                                                    <Anns>
                                                                                        <ParenAnn/>
                                                                                    </Anns>
                                                                                    <RefName>
                                                                                        <Word>p</Word>
                                                                                    </RefName>
                                                                                </RefExpr>
                                                                            </ApplExpr>
                                                                        </TupleExpr>
                                                                    </ApplExpr>
                                                                </TupleExpr>
                                                            </ApplExpr>
                                                        </SetCompExpr>
                                                    </SetExpr>
                                                </MemPred>
                                                <MemPred Mixfix="true">
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>status</Word>
                                                            <NextStroke/>
                                                        </RefName>
                                                    </RefExpr>
                                                    <SetExpr>
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>status</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                    </SetExpr>
                                                </MemPred>
                                            </AndPred>
                                        </ImpliesPred>
                                    </ForallPred>
                                </AndPred>
                                <ImpliesPred>
                                    <NegPred>
                                        <ForallPred>
                                            <Anns>
                                                <ParenAnn/>
                                            </Anns>
                                            <SchText>
                                                <VarDecl>
                                                    <DeclName>
                                                        <Word>r</Word>
                                                    </DeclName>
                                                    <ApplExpr Mixfix="false">
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>ran</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <RefExpr Mixfix="false">
                                                            <Anns>
                                                                <ParenAnn/>
                                                            </Anns>
                                                            <RefName>
                                                                <Word>ready</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                    </ApplExpr>
                                                </VarDecl>
                                            </SchText>
                                            <MemPred Mixfix="true">
                                                <ApplExpr Mixfix="false">
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>credits</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <RefExpr Mixfix="false">
                                                        <Anns>
                                                            <ParenAnn/>
                                                        </Anns>
                                                        <RefName>
                                                            <Word>r</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                </ApplExpr>
                                                <SetExpr>
                                                    <NumExpr Value="0"/>
                                                </SetExpr>
                                            </MemPred>
                                        </ForallPred>
                                    </NegPred>
                                    <AndPred Op="And">
                                        <MemPred Mixfix="true">
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>status</Word>
                                                    <NextStroke/>
                                                </RefName>
                                            </RefExpr>
                                            <SetExpr>
                                                <ApplExpr Mixfix="true">
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word> _ ⊕ _ </Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <TupleExpr>
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>status</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <SetExpr>
                                                            <ApplExpr Mixfix="true">
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word> _ ↦ _ </Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <TupleExpr>
                                                                    <ApplExpr Mixfix="false">
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>head</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <RefExpr Mixfix="false">
                                                                            <Anns>
                                                                                <ParenAnn/>
                                                                            </Anns>
                                                                            <RefName>
                                                                                <Word>ready</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                    </ApplExpr>
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>pRunning</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                </TupleExpr>
                                                            </ApplExpr>
                                                        </SetExpr>
                                                    </TupleExpr>
                                                </ApplExpr>
                                            </SetExpr>
                                        </MemPred>
                                        <MemPred Mixfix="true">
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>credits</Word>
                                                    <NextStroke/>
                                                </RefName>
                                            </RefExpr>
                                            <SetExpr>
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word>credits</Word>
                                                    </RefName>
                                                </RefExpr>
                                            </SetExpr>
                                        </MemPred>
                                    </AndPred>
                                </ImpliesPred>
                            </AndPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

We declare a new schema that contains only the state variables that do
not change when a status change occurs.

</Content>
        </NarrPara>
        <AxPara Box="OmitBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>StatusChange</Word>
                    </DeclName>
                    <HideExpr>
                        <RefExpr Mixfix="false">
                            <RefName>
                                <Word>Scheduler</Word>
                            </RefName>
                        </RefExpr>
                        <Name>
                            <Word>status</Word>
                        </Name>
                        <Name>
                            <Word>running</Word>
                        </Name>
                        <Name>
                            <Word>waiting</Word>
                        </Name>
                        <Name>
                            <Word>ready</Word>
                        </Name>
                        <Name>
                            <Word>registers</Word>
                        </Name>
                        <Name>
                            <Word>pregisters</Word>
                        </Name>
                        <Name>
                            <Word>pstack</Word>
                        </Name>
                    </HideExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

Interrupts the currently executing process if the new process is of a
higher priority then the current process and the kernel is in $kernel$
mode.

</Content>
        </NarrPara>
        <AxPara Box="SchBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>interrupt</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>ΔScheduler</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>ΞStatusChange</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>create_new_process</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <AndPred Op="NL">
                                <AndPred Op="NL">
                                    <AndPred Op="NL">
                                        <MemPred Mixfix="true">
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>mode</Word>
                                                </RefName>
                                            </RefExpr>
                                            <SetExpr>
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word>kernel</Word>
                                                    </RefName>
                                                </RefExpr>
                                            </SetExpr>
                                        </MemPred>
                                        <OrPred>
                                            <MemPred Mixfix="true">
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word>running</Word>
                                                    </RefName>
                                                </RefExpr>
                                                <SetExpr>
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>∅</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                </SetExpr>
                                            </MemPred>
                                            <ExistsPred>
                                                <Anns>
                                                    <ParenAnn/>
                                                </Anns>
                                                <SchText>
                                                    <VarDecl>
                                                        <DeclName>
                                                            <Word>p</Word>
                                                        </DeclName>
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>running</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                    </VarDecl>
                                                </SchText>
                                                <MemPred Mixfix="true">
                                                    <TupleExpr>
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>priority</Word>
                                                                <InStroke/>
                                                            </RefName>
                                                        </RefExpr>
                                                        <ApplExpr Mixfix="false">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>priority</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <RefExpr Mixfix="false">
                                                                <Anns>
                                                                    <ParenAnn/>
                                                                </Anns>
                                                                <RefName>
                                                                    <Word>p</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                        </ApplExpr>
                                                    </TupleExpr>
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word> _ ≥ _ </Word>
                                                        </RefName>
                                                    </RefExpr>
                                                </MemPred>
                                            </ExistsPred>
                                        </OrPred>
                                    </AndPred>
                                    <ExistsPred>
                                        <SchText>
                                            <VarDecl>
                                                <DeclName>
                                                    <Word>r</Word>
                                                </DeclName>
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word>running</Word>
                                                    </RefName>
                                                </RefExpr>
                                            </VarDecl>
                                        </SchText>
                                        <AndPred Op="And">
                                            <AndPred Op="And">
                                                <MemPred Mixfix="true">
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>status</Word>
                                                            <NextStroke/>
                                                        </RefName>
                                                    </RefExpr>
                                                    <SetExpr>
                                                        <ApplExpr Mixfix="true">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word> _ ⊕ _ </Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <TupleExpr>
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>status</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <SetExpr>
                                                                    <ApplExpr Mixfix="true">
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word> _ ↦ _ </Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <TupleExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>pid</Word>
                                                                                    <OutStroke/>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>pRunning</Word>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                        </TupleExpr>
                                                                    </ApplExpr>
                                                                    <ApplExpr Mixfix="true">
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word> _ ↦ _ </Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <TupleExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>r</Word>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>pReady</Word>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                        </TupleExpr>
                                                                    </ApplExpr>
                                                                </SetExpr>
                                                            </TupleExpr>
                                                        </ApplExpr>
                                                    </SetExpr>
                                                </MemPred>
                                                <MemPred Mixfix="true">
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>pregisters</Word>
                                                            <NextStroke/>
                                                        </RefName>
                                                    </RefExpr>
                                                    <SetExpr>
                                                        <ApplExpr Mixfix="true">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word> _ ⊕ _ </Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <TupleExpr>
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>pregisters</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <SetExpr>
                                                                    <ApplExpr Mixfix="true">
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word> _ ↦ _ </Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <TupleExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>r</Word>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>registers</Word>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                        </TupleExpr>
                                                                    </ApplExpr>
                                                                </SetExpr>
                                                            </TupleExpr>
                                                        </ApplExpr>
                                                    </SetExpr>
                                                </MemPred>
                                            </AndPred>
                                            <MemPred Mixfix="true">
                                                <ThetaExpr>
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>Stack</Word>
                                                            <NextStroke/>
                                                        </RefName>
                                                    </RefExpr>
                                                </ThetaExpr>
                                                <SetExpr>
                                                    <ApplExpr Mixfix="false">
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>pstack</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <RefExpr Mixfix="false">
                                                            <Anns>
                                                                <ParenAnn/>
                                                            </Anns>
                                                            <RefName>
                                                                <Word>r</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                    </ApplExpr>
                                                </SetExpr>
                                            </MemPred>
                                        </AndPred>
                                    </ExistsPred>
                                </AndPred>
                                <MemPred Mixfix="true">
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>registers</Word>
                                            <NextStroke/>
                                        </RefName>
                                    </RefExpr>
                                    <SetExpr>
                                        <ApplExpr Mixfix="false">
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>pregisters</Word>
                                                </RefName>
                                            </RefExpr>
                                            <RefExpr Mixfix="false">
                                                <Anns>
                                                    <ParenAnn/>
                                                </Anns>
                                                <RefName>
                                                    <Word>pid</Word>
                                                    <OutStroke/>
                                                </RefName>
                                            </RefExpr>
                                        </ApplExpr>
                                    </SetExpr>
                                </MemPred>
                            </AndPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

Remove the currently running process and put it back in the ready queue.

</Content>
        </NarrPara>
        <AxPara Box="SchBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>remove_running_process</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>ΔScheduler</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>ΞStatusChange</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <AndPred Op="And">
                                <AndPred Op="And">
                                    <MemPred Mixfix="true">
                                        <LetExpr>
                                            <SchText>
                                                <ConstDecl>
                                                    <DeclName>
                                                        <Word>pid</Word>
                                                    </DeclName>
                                                    <MuExpr>
                                                        <Anns>
                                                            <ParenAnn/>
                                                        </Anns>
                                                        <SchText>
                                                            <VarDecl>
                                                                <DeclName>
                                                                    <Word>r</Word>
                                                                </DeclName>
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>running</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                            </VarDecl>
                                                        </SchText>
                                                    </MuExpr>
                                                </ConstDecl>
                                            </SchText>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>status</Word>
                                                    <NextStroke/>
                                                </RefName>
                                            </RefExpr>
                                        </LetExpr>
                                        <SetExpr>
                                            <ApplExpr Mixfix="true">
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word> _ ⊕ _ </Word>
                                                    </RefName>
                                                </RefExpr>
                                                <TupleExpr>
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>status</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <SetExpr>
                                                        <ApplExpr Mixfix="true">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word> _ ↦ _ </Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <TupleExpr>
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>pid</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>pReady</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                            </TupleExpr>
                                                        </ApplExpr>
                                                    </SetExpr>
                                                </TupleExpr>
                                            </ApplExpr>
                                        </SetExpr>
                                    </MemPred>
                                    <MemPred Mixfix="true">
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>pregisters</Word>
                                                <NextStroke/>
                                            </RefName>
                                        </RefExpr>
                                        <SetExpr>
                                            <ApplExpr Mixfix="true">
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word> _ ⊕ _ </Word>
                                                    </RefName>
                                                </RefExpr>
                                                <TupleExpr>
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>pregisters</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <SetExpr>
                                                        <ApplExpr Mixfix="true">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word> _ ↦ _ </Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <TupleExpr>
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>pid</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>registers</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                            </TupleExpr>
                                                        </ApplExpr>
                                                    </SetExpr>
                                                </TupleExpr>
                                            </ApplExpr>
                                        </SetExpr>
                                    </MemPred>
                                </AndPred>
                                <MemPred Mixfix="true">
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>pstack</Word>
                                            <NextStroke/>
                                        </RefName>
                                    </RefExpr>
                                    <SetExpr>
                                        <ApplExpr Mixfix="true">
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word> _ ⊕ _ </Word>
                                                </RefName>
                                            </RefExpr>
                                            <TupleExpr>
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word>pstack</Word>
                                                    </RefName>
                                                </RefExpr>
                                                <SetExpr>
                                                    <ApplExpr Mixfix="true">
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word> _ ↦ _ </Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <TupleExpr>
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>pid</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <ThetaExpr>
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>Stack</Word>
                                                                        <NextStroke/>
                                                                    </RefName>
                                                                </RefExpr>
                                                            </ThetaExpr>
                                                        </TupleExpr>
                                                    </ApplExpr>
                                                </SetExpr>
                                            </TupleExpr>
                                        </ApplExpr>
                                    </SetExpr>
                                </MemPred>
                            </AndPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

A process becomes blocked if it is waiting on a resource such a an IO
device, or waiting on another process 

</Content>
        </NarrPara>
        <AxPara Box="OmitBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>block_process</Word>
                    </DeclName>
                    <CompExpr>
                        <RefExpr Mixfix="false">
                            <RefName>
                                <Word>remove_running_process</Word>
                            </RefName>
                        </RefExpr>
                        <RefExpr Mixfix="false">
                            <RefName>
                                <Word>reschedule</Word>
                            </RefName>
                        </RefExpr>
                    </CompExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

We declare a schema containing only the variables that change for an
unblock.

</Content>
        </NarrPara>
        <AxPara Box="OmitBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>UnblockProcessChange</Word>
                    </DeclName>
                    <HideExpr>
                        <RefExpr Mixfix="false">
                            <RefName>
                                <Word>Scheduler</Word>
                            </RefName>
                        </RefExpr>
                        <Name>
                            <Word>status</Word>
                        </Name>
                        <Name>
                            <Word>running</Word>
                        </Name>
                        <Name>
                            <Word>ready</Word>
                        </Name>
                        <Name>
                            <Word>waiting</Word>
                        </Name>
                    </HideExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

Unblocks a process that is blocked by another process.

</Content>
        </NarrPara>
        <AxPara Box="SchBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>unblock_process</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>ΔScheduler</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>ΞUnblockProcessChange</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <VarDecl>
                                <DeclName>
                                    <Word>pid</Word>
                                    <InStroke/>
                                </DeclName>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Pid</Word>
                                    </RefName>
                                </RefExpr>
                            </VarDecl>
                            <AndPred Op="NL">
                                <AndPred Op="NL">
                                    <AndPred Op="NL">
                                        <MemPred Mixfix="false">
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>pid</Word>
                                                    <InStroke/>
                                                </RefName>
                                            </RefExpr>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>pids</Word>
                                                </RefName>
                                            </RefExpr>
                                        </MemPred>
                                        <MemPred Mixfix="true">
                                            <ApplExpr Mixfix="false">
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word>status</Word>
                                                    </RefName>
                                                </RefExpr>
                                                <RefExpr Mixfix="false">
                                                    <Anns>
                                                        <ParenAnn/>
                                                    </Anns>
                                                    <RefName>
                                                        <Word>pid</Word>
                                                        <InStroke/>
                                                    </RefName>
                                                </RefExpr>
                                            </ApplExpr>
                                            <SetExpr>
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word>pWaiting</Word>
                                                    </RefName>
                                                </RefExpr>
                                            </SetExpr>
                                        </MemPred>
                                    </AndPred>
                                    <IffPred>
                                        <MemPred Mixfix="true">
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>running</Word>
                                                </RefName>
                                            </RefExpr>
                                            <SetExpr>
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word>∅</Word>
                                                    </RefName>
                                                </RefExpr>
                                            </SetExpr>
                                        </MemPred>
                                        <MemPred Mixfix="true">
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>status</Word>
                                                    <NextStroke/>
                                                </RefName>
                                            </RefExpr>
                                            <SetExpr>
                                                <ApplExpr Mixfix="true">
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word> _ ⊕ _ </Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <TupleExpr>
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>status</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <SetExpr>
                                                            <ApplExpr Mixfix="true">
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word> _ ↦ _ </Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <TupleExpr>
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>pid</Word>
                                                                            <InStroke/>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>pRunning</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                </TupleExpr>
                                                            </ApplExpr>
                                                        </SetExpr>
                                                    </TupleExpr>
                                                </ApplExpr>
                                            </SetExpr>
                                        </MemPred>
                                    </IffPred>
                                </AndPred>
                                <IffPred>
                                    <MemPred Mixfix="true">
                                        <TupleExpr>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>running</Word>
                                                </RefName>
                                            </RefExpr>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>∅</Word>
                                                </RefName>
                                            </RefExpr>
                                        </TupleExpr>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word> _ ≠ _ </Word>
                                            </RefName>
                                        </RefExpr>
                                    </MemPred>
                                    <MemPred Mixfix="true">
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>status</Word>
                                                <NextStroke/>
                                            </RefName>
                                        </RefExpr>
                                        <SetExpr>
                                            <ApplExpr Mixfix="true">
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word> _ ⊕ _ </Word>
                                                    </RefName>
                                                </RefExpr>
                                                <TupleExpr>
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>status</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <SetExpr>
                                                        <ApplExpr Mixfix="true">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word> _ ↦ _ </Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <TupleExpr>
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>pid</Word>
                                                                        <InStroke/>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>pReady</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                            </TupleExpr>
                                                        </ApplExpr>
                                                    </SetExpr>
                                                </TupleExpr>
                                            </ApplExpr>
                                        </SetExpr>
                                    </MemPred>
                                </IffPred>
                            </AndPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

Remove a process from the system

</Content>
        </NarrPara>
        <AxPara Box="SchBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>remove_process</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>ΔScheduler</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>ΞStack</Word>
                                    </RefName>
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>WORD</Word>
                                        </RefName>
                                    </RefExpr>
                                </RefExpr>
                            </InclDecl>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>ΞSystem</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <VarDecl>
                                <DeclName>
                                    <Word>pid</Word>
                                    <InStroke/>
                                </DeclName>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Pid</Word>
                                    </RefName>
                                </RefExpr>
                            </VarDecl>
                            <AndPred Op="NL">
                                <AndPred Op="NL">
                                    <AndPred Op="NL">
                                        <AndPred Op="NL">
                                            <AndPred Op="NL">
                                                <AndPred Op="NL">
                                                    <AndPred Op="NL">
                                                        <AndPred Op="NL">
                                                            <AndPred Op="NL">
                                                                <AndPred Op="NL">
                                                                    <MemPred Mixfix="false">
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>pid</Word>
                                                                                <InStroke/>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>pids</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                    </MemPred>
                                                                    <MemPred Mixfix="true">
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>pids</Word>
                                                                                <NextStroke/>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <SetExpr>
                                                                            <ApplExpr Mixfix="true">
                                                                                <RefExpr Mixfix="false">
                                                                                    <RefName>
                                                                                        <Word> _ \ _ </Word>
                                                                                    </RefName>
                                                                                </RefExpr>
                                                                                <TupleExpr>
                                                                                    <RefExpr Mixfix="false">
                                                                                        <RefName>
                                                                                            <Word>pids</Word>
                                                                                        </RefName>
                                                                                    </RefExpr>
                                                                                    <SetExpr>
                                                                                        <RefExpr Mixfix="false">
                                                                                            <RefName>
                                                                                                <Word>pid</Word>
                                                                                                <InStroke/>
                                                                                            </RefName>
                                                                                        </RefExpr>
                                                                                    </SetExpr>
                                                                                </TupleExpr>
                                                                            </ApplExpr>
                                                                        </SetExpr>
                                                                    </MemPred>
                                                                </AndPred>
                                                                <MemPred Mixfix="true">
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>status</Word>
                                                                            <NextStroke/>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <SetExpr>
                                                                        <ApplExpr Mixfix="true">
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word> _ ⩤ _ </Word>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                            <TupleExpr>
                                                                                <SetExpr>
                                                                                    <RefExpr Mixfix="false">
                                                                                        <RefName>
                                                                                            <Word>pid</Word>
                                                                                            <InStroke/>
                                                                                        </RefName>
                                                                                    </RefExpr>
                                                                                </SetExpr>
                                                                                <RefExpr Mixfix="false">
                                                                                    <RefName>
                                                                                        <Word>status</Word>
                                                                                    </RefName>
                                                                                </RefExpr>
                                                                            </TupleExpr>
                                                                        </ApplExpr>
                                                                    </SetExpr>
                                                                </MemPred>
                                                            </AndPred>
                                                            <MemPred Mixfix="true">
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>credits</Word>
                                                                        <NextStroke/>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <SetExpr>
                                                                    <ApplExpr Mixfix="true">
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word> _ ⩤ _ </Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <TupleExpr>
                                                                            <SetExpr>
                                                                                <RefExpr Mixfix="false">
                                                                                    <RefName>
                                                                                        <Word>pid</Word>
                                                                                        <InStroke/>
                                                                                    </RefName>
                                                                                </RefExpr>
                                                                            </SetExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>credits</Word>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                        </TupleExpr>
                                                                    </ApplExpr>
                                                                </SetExpr>
                                                            </MemPred>
                                                        </AndPred>
                                                        <MemPred Mixfix="true">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>priority</Word>
                                                                    <NextStroke/>
                                                                </RefName>
                                                            </RefExpr>
                                                            <SetExpr>
                                                                <ApplExpr Mixfix="true">
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word> _ ⩤ _ </Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <TupleExpr>
                                                                        <SetExpr>
                                                                            <RefExpr Mixfix="false">
                                                                                <RefName>
                                                                                    <Word>pid</Word>
                                                                                    <InStroke/>
                                                                                </RefName>
                                                                            </RefExpr>
                                                                        </SetExpr>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>priority</Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                    </TupleExpr>
                                                                </ApplExpr>
                                                            </SetExpr>
                                                        </MemPred>
                                                    </AndPred>
                                                    <MemPred Mixfix="true">
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>instructions</Word>
                                                                <NextStroke/>
                                                            </RefName>
                                                        </RefExpr>
                                                        <SetExpr>
                                                            <ApplExpr Mixfix="true">
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word> _ ⩤ _ </Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <TupleExpr>
                                                                    <SetExpr>
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word>pid</Word>
                                                                                <InStroke/>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                    </SetExpr>
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>instructions</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                </TupleExpr>
                                                            </ApplExpr>
                                                        </SetExpr>
                                                    </MemPred>
                                                </AndPred>
                                                <MemPred Mixfix="true">
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>inst_pointer</Word>
                                                            <NextStroke/>
                                                        </RefName>
                                                    </RefExpr>
                                                    <SetExpr>
                                                        <ApplExpr Mixfix="true">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word> _ ⩤ _ </Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <TupleExpr>
                                                                <SetExpr>
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>pid</Word>
                                                                            <InStroke/>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                </SetExpr>
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>inst_pointer</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                            </TupleExpr>
                                                        </ApplExpr>
                                                    </SetExpr>
                                                </MemPred>
                                            </AndPred>
                                            <MemPred Mixfix="true">
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word>base</Word>
                                                        <NextStroke/>
                                                    </RefName>
                                                </RefExpr>
                                                <SetExpr>
                                                    <ApplExpr Mixfix="true">
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word> _ ⩤ _ </Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <TupleExpr>
                                                            <SetExpr>
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>pid</Word>
                                                                        <InStroke/>
                                                                    </RefName>
                                                                </RefExpr>
                                                            </SetExpr>
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>base</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                        </TupleExpr>
                                                    </ApplExpr>
                                                </SetExpr>
                                            </MemPred>
                                        </AndPred>
                                        <MemPred Mixfix="true">
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>limit</Word>
                                                    <NextStroke/>
                                                </RefName>
                                            </RefExpr>
                                            <SetExpr>
                                                <ApplExpr Mixfix="true">
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word> _ ⩤ _ </Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <TupleExpr>
                                                        <SetExpr>
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>pid</Word>
                                                                    <InStroke/>
                                                                </RefName>
                                                            </RefExpr>
                                                        </SetExpr>
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>limit</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                    </TupleExpr>
                                                </ApplExpr>
                                            </SetExpr>
                                        </MemPred>
                                    </AndPred>
                                    <MemPred Mixfix="true">
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>pregisters</Word>
                                                <NextStroke/>
                                            </RefName>
                                        </RefExpr>
                                        <SetExpr>
                                            <ApplExpr Mixfix="true">
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word> _ ⩤ _ </Word>
                                                    </RefName>
                                                </RefExpr>
                                                <TupleExpr>
                                                    <SetExpr>
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>pid</Word>
                                                                <InStroke/>
                                                            </RefName>
                                                        </RefExpr>
                                                    </SetExpr>
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>pregisters</Word>
                                                        </RefName>
                                                    </RefExpr>
                                                </TupleExpr>
                                            </ApplExpr>
                                        </SetExpr>
                                    </MemPred>
                                </AndPred>
                                <MemPred Mixfix="true">
                                    <RefExpr Mixfix="false">
                                        <RefName>
                                            <Word>pstack</Word>
                                            <NextStroke/>
                                        </RefName>
                                    </RefExpr>
                                    <SetExpr>
                                        <ApplExpr Mixfix="true">
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word> _ ⩤ _ </Word>
                                                </RefName>
                                            </RefExpr>
                                            <TupleExpr>
                                                <SetExpr>
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word>pid</Word>
                                                            <InStroke/>
                                                        </RefName>
                                                    </RefExpr>
                                                </SetExpr>
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word>pstack</Word>
                                                    </RefName>
                                                </RefExpr>
                                            </TupleExpr>
                                        </ApplExpr>
                                    </SetExpr>
                                </MemPred>
                            </AndPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

Update the details in the process table when each instruction is
executed, as well as communicate the current instruction and the base
value for the current process.

\begin{syntax}
    ChangeInstPointer == Scheduler \hide (inst\_pointer)
\end{syntax}

</Content>
        </NarrPara>
        <AxPara Box="SchBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>update_process_table</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>ΔScheduler</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <VarDecl>
                                <DeclName>
                                    <Word>inst</Word>
                                    <OutStroke/>
                                </DeclName>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Instruction</Word>
                                    </RefName>
                                </RefExpr>
                            </VarDecl>
                            <VarDecl>
                                <DeclName>
                                    <Word>base</Word>
                                    <OutStroke/>
                                </DeclName>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>WORD</Word>
                                    </RefName>
                                </RefExpr>
                            </VarDecl>
                            <AndPred Op="NL">
                                <AndPred Op="NL">
                                    <MemPred Mixfix="true">
                                        <TupleExpr>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>running</Word>
                                                </RefName>
                                            </RefExpr>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>∅</Word>
                                                </RefName>
                                            </RefExpr>
                                        </TupleExpr>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word> _ ≠ _ </Word>
                                            </RefName>
                                        </RefExpr>
                                    </MemPred>
                                    <ImpliesPred>
                                        <Anns>
                                            <ParenAnn/>
                                        </Anns>
                                        <AndPred Op="And">
                                            <AndPred Op="And">
                                                <AndPred Op="And">
                                                    <MemPred Mixfix="true">
                                                        <LetExpr>
                                                            <SchText>
                                                                <ConstDecl>
                                                                    <DeclName>
                                                                        <Word>pid</Word>
                                                                    </DeclName>
                                                                    <MuExpr>
                                                                        <Anns>
                                                                            <ParenAnn/>
                                                                        </Anns>
                                                                        <SchText>
                                                                            <VarDecl>
                                                                                <DeclName>
                                                                                    <Word>r</Word>
                                                                                </DeclName>
                                                                                <RefExpr Mixfix="false">
                                                                                    <RefName>
                                                                                        <Word>running</Word>
                                                                                    </RefName>
                                                                                </RefExpr>
                                                                            </VarDecl>
                                                                        </SchText>
                                                                    </MuExpr>
                                                                </ConstDecl>
                                                            </SchText>
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>inst</Word>
                                                                    <OutStroke/>
                                                                </RefName>
                                                            </RefExpr>
                                                        </LetExpr>
                                                        <SetExpr>
                                                            <ApplExpr Mixfix="false">
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>head</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <ApplExpr Mixfix="false">
                                                                    <Anns>
                                                                        <ParenAnn/>
                                                                    </Anns>
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>instructions</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <RefExpr Mixfix="false">
                                                                        <Anns>
                                                                            <ParenAnn/>
                                                                        </Anns>
                                                                        <RefName>
                                                                            <Word>pid</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                </ApplExpr>
                                                            </ApplExpr>
                                                        </SetExpr>
                                                    </MemPred>
                                                    <MemPred Mixfix="true">
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>base</Word>
                                                                <OutStroke/>
                                                            </RefName>
                                                        </RefExpr>
                                                        <SetExpr>
                                                            <ApplExpr Mixfix="false">
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word>base</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <RefExpr Mixfix="false">
                                                                    <Anns>
                                                                        <ParenAnn/>
                                                                    </Anns>
                                                                    <RefName>
                                                                        <Word>pid</Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                            </ApplExpr>
                                                        </SetExpr>
                                                    </MemPred>
                                                </AndPred>
                                                <ImpliesPred>
                                                    <Anns>
                                                        <ParenAnn/>
                                                    </Anns>
                                                    <MemPred Mixfix="true">
                                                        <ApplExpr Mixfix="false">
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>inst_pointer</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <RefExpr Mixfix="false">
                                                                <Anns>
                                                                    <ParenAnn/>
                                                                </Anns>
                                                                <RefName>
                                                                    <Word>pid</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                        </ApplExpr>
                                                        <SetExpr>
                                                            <ApplExpr Mixfix="true">
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word># _ </Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <ApplExpr Mixfix="false">
                                                                    <Anns>
                                                                        <ParenAnn/>
                                                                    </Anns>
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>instructions</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <RefExpr Mixfix="false">
                                                                        <Anns>
                                                                            <ParenAnn/>
                                                                        </Anns>
                                                                        <RefName>
                                                                            <Word>pid</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                </ApplExpr>
                                                            </ApplExpr>
                                                        </SetExpr>
                                                    </MemPred>
                                                    <ExprPred>
                                                        <RenameExpr>
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>remove_process</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <NameNamePair>
                                                                <OldName>
                                                                    <Word>pid</Word>
                                                                </OldName>
                                                                <NewName>
                                                                    <Word>pid</Word>
                                                                    <InStroke/>
                                                                </NewName>
                                                            </NameNamePair>
                                                        </RenameExpr>
                                                    </ExprPred>
                                                </ImpliesPred>
                                            </AndPred>
                                            <MemPred Mixfix="true">
                                                <TupleExpr>
                                                    <ApplExpr Mixfix="false">
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>inst_pointer</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <RefExpr Mixfix="false">
                                                            <Anns>
                                                                <ParenAnn/>
                                                            </Anns>
                                                            <RefName>
                                                                <Word>pid</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                    </ApplExpr>
                                                    <ApplExpr Mixfix="true">
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word># _ </Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <ApplExpr Mixfix="false">
                                                            <Anns>
                                                                <ParenAnn/>
                                                            </Anns>
                                                            <RefExpr Mixfix="false">
                                                                <RefName>
                                                                    <Word>instructions</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                            <RefExpr Mixfix="false">
                                                                <Anns>
                                                                    <ParenAnn/>
                                                                </Anns>
                                                                <RefName>
                                                                    <Word>pid</Word>
                                                                </RefName>
                                                            </RefExpr>
                                                        </ApplExpr>
                                                    </ApplExpr>
                                                </TupleExpr>
                                                <RefExpr Mixfix="false">
                                                    <RefName>
                                                        <Word> _ &lt; _ </Word>
                                                    </RefName>
                                                </RefExpr>
                                            </MemPred>
                                        </AndPred>
                                        <MemPred Mixfix="true">
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>inst_pointer</Word>
                                                    <NextStroke/>
                                                </RefName>
                                            </RefExpr>
                                            <SetExpr>
                                                <ApplExpr Mixfix="true">
                                                    <RefExpr Mixfix="false">
                                                        <RefName>
                                                            <Word> _ ⊕ _ </Word>
                                                        </RefName>
                                                    </RefExpr>
                                                    <TupleExpr>
                                                        <RefExpr Mixfix="false">
                                                            <RefName>
                                                                <Word>inst_pointer</Word>
                                                            </RefName>
                                                        </RefExpr>
                                                        <SetExpr>
                                                            <ApplExpr Mixfix="true">
                                                                <RefExpr Mixfix="false">
                                                                    <RefName>
                                                                        <Word> _ ↦ _ </Word>
                                                                    </RefName>
                                                                </RefExpr>
                                                                <TupleExpr>
                                                                    <RefExpr Mixfix="false">
                                                                        <RefName>
                                                                            <Word>pid</Word>
                                                                        </RefName>
                                                                    </RefExpr>
                                                                    <ApplExpr Mixfix="true">
                                                                        <RefExpr Mixfix="false">
                                                                            <RefName>
                                                                                <Word> _ + _ </Word>
                                                                            </RefName>
                                                                        </RefExpr>
                                                                        <TupleExpr>
                                                                            <ApplExpr Mixfix="false">
                                                                                <RefExpr Mixfix="false">
                                                                                    <RefName>
                                                                                        <Word>inst_pointer</Word>
                                                                                    </RefName>
                                                                                </RefExpr>
                                                                                <RefExpr Mixfix="false">
                                                                                    <Anns>
                                                                                        <ParenAnn/>
                                                                                    </Anns>
                                                                                    <RefName>
                                                                                        <Word>pid</Word>
                                                                                    </RefName>
                                                                                </RefExpr>
                                                                            </ApplExpr>
                                                                            <NumExpr Value="1"/>
                                                                        </TupleExpr>
                                                                    </ApplExpr>
                                                                </TupleExpr>
                                                            </ApplExpr>
                                                        </SetExpr>
                                                    </TupleExpr>
                                                </ApplExpr>
                                            </SetExpr>
                                        </MemPred>
                                    </ImpliesPred>
                                </AndPred>
                                <MemPred Mixfix="true">
                                    <ThetaExpr>
                                        <RefExpr Mixfix="false">
                                            <RefName>
                                                <Word>ChangeInstPointer</Word>
                                            </RefName>
                                        </RefExpr>
                                    </ThetaExpr>
                                    <SetExpr>
                                        <ThetaExpr>
                                            <RefExpr Mixfix="false">
                                                <RefName>
                                                    <Word>ChangeInstPointer</Word>
                                                    <NextStroke/>
                                                </RefName>
                                            </RefExpr>
                                        </ThetaExpr>
                                    </SetExpr>
                                </MemPred>
                            </AndPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

\begin{syntax}
    next == exec\_inst \pipe update\_process\_table \semi\\
	    \t3 ([\Delta Scheduler | running = \emptyset] \land reschedule) \lor\\
	    \t3 ([\Xi Scheduler | running \neq \emptyset])
\end{syntax}

\begin{syntax}
    idle0 == \lnot \pre next
\end{syntax}

</Content>
        </NarrPara>
        <AxPara Box="SchBox">
            <SchText>
                <ConstDecl>
                    <DeclName>
                        <Word>idle</Word>
                    </DeclName>
                    <SchExpr>
                        <SchText>
                            <InclDecl>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>ΞScheduler</Word>
                                    </RefName>
                                </RefExpr>
                            </InclDecl>
                            <VarDecl>
                                <DeclName>
                                    <Word>inst</Word>
                                    <InStroke/>
                                </DeclName>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>Instruction</Word>
                                    </RefName>
                                </RefExpr>
                            </VarDecl>
                            <VarDecl>
                                <DeclName>
                                    <Word>base</Word>
                                    <InStroke/>
                                </DeclName>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>WORD</Word>
                                    </RefName>
                                </RefExpr>
                            </VarDecl>
                            <ExprPred>
                                <RefExpr Mixfix="false">
                                    <RefName>
                                        <Word>idle0</Word>
                                    </RefName>
                                </RefExpr>
                            </ExprPred>
                        </SchText>
                    </SchExpr>
                </ConstDecl>
            </SchText>
        </AxPara>
        <NarrPara>
            <Content>

\begin{syntax}
    tick == next \lor idle
\end{syntax}

Conjectures?
\begin{syntax}
    \models? (\forall n : \nat_1 @ n &gt; 0)\\
    [X] \models? \forall x : \power X @ \#x \leq 1 \iff x \in singleton
\end{syntax}
</Content>
        </NarrPara>
    </ZSect>
</Spec>

