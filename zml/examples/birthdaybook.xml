<?xml version="1.0" encoding="UTF-8"?>
<Spec xmlns="http://nt-appn.comp.nus.edu.sg/fm/z-stand" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://nt-appn.comp.nus.edu.sg/fm/z-stand
http://nt-appn.comp.nus.edu.sg/fm/z-stand/z-standard.xsd" creator="Jing Sun" date="2002-03-12">
This is a simplified version of the BirthdayBook example in Z represented in the Z Markup Language.
<Sect>
		<Name>Specification</Name>
		<Parag>
			<GivenTypeDef>
				<DeclName>NAME</DeclName>
				<DeclName>DATE</DeclName>
			</GivenTypeDef>
			Birthday schema starts here.
			<SchemaDef>
				<DeclName>BirthdayBook</DeclName>
				<VarDecl>
					<DeclName>known</DeclName>
					<Expr>
						<Power>
							<Expr>
								<RefName>NAME</RefName>
							</Expr>
						</Power>
					</Expr>
				</VarDecl>
				<VarDecl>
					<DeclName>birthday</DeclName>
					<Expr>
						<Expr>
							<RefName>NAME</RefName>
						</Expr>
						<Appl>Pfun</Appl>
						<Expr>
							<RefName>DATE</RefName>
						</Expr>
					</Expr>
				</VarDecl>
				<Predicate>
					<Expr>
						<RefName>known</RefName>
					</Expr>
					<Rel>Eq</Rel>
					<Expr>
						<Appl>Dom</Appl>
						<Expr>
							<RefName>birthday</RefName>
						</Expr>
					</Expr>
				</Predicate>
			</SchemaDef>
			Initialization starts here.
			<SchemaDef>
				<DeclName>InitBirthdayBook</DeclName>
				<InclDecl incl="inc">
					<Expr>
						<RefName>BirthdayBook</RefName>
					</Expr>
				</InclDecl>
				<Predicate>
					<Expr>
						<RefName>known</RefName>
					</Expr>
					<Rel>Eq</Rel>
					<Expr>
						<Set/>
					</Expr>
				</Predicate>
			</SchemaDef>
			Add birthday records starts here.
			<SchemaDef>
				<DeclName>AddBirthday</DeclName>
				<InclDecl incl="delta">
					<Expr>
						<RefName>BirthdayBook</RefName>
					</Expr>
				</InclDecl>
				<VarDecl>
					<DeclName>name?</DeclName>
					<Expr>
						<Expr>
							<RefName>NAME</RefName>
						</Expr>
					</Expr>
				</VarDecl>
				<VarDecl>
					<DeclName>date?</DeclName>
					<Expr>
						<Expr>
							<RefName>DATE</RefName>
						</Expr>
					</Expr>
				</VarDecl>
				<Predicate>
					<Expr>
						<Expr>
							<RefName>name</RefName>
						</Expr>
						<Stroke>In</Stroke>
					</Expr>
					<Rel>Notin</Rel>
					<Expr>
						<RefName>known</RefName>
					</Expr>
				</Predicate>
				<Predicate>
					<Expr>
						<Expr>
							<RefName>birthday</RefName>
						</Expr>
						<Stroke>Next</Stroke>
					</Expr>
					<Rel>Eq</Rel>
					<Expr>
						<Expr>
							<RefName>birthday</RefName>
						</Expr>
						<Appl>Cap</Appl>
						<Expr>
							<Set>
								<Expr>
									<Parth>
										<Expr>
											<Expr>
												<Expr>
													<RefName>name</RefName>
												</Expr>
												<Stroke>In</Stroke>
											</Expr>
											<Expr>
												<Expr>
													<RefName>date</RefName>
												</Expr>
												<Stroke>In</Stroke>
											</Expr>
										</Expr>
									</Parth>
								</Expr>
							</Set>
						</Expr>
					</Expr>
				</Predicate>
			</SchemaDef>
			Remove birthday records starts here.
			<SchemaDef>
				<DeclName>RemoveBirthday</DeclName>
				<InclDecl incl="delta">
					<Expr>
						<RefName>BirthdayBook</RefName>
					</Expr>
				</InclDecl>
				<VarDecl>
					<DeclName>name?</DeclName>
					<Expr>
						<RefName>NAME</RefName>
					</Expr>
				</VarDecl>
				<Predicate>
					<Expr>
						<Expr>
							<RefName>name</RefName>
						</Expr>
						<Stroke>In</Stroke>
					</Expr>
					<Rel>In</Rel>
					<Expr>
						<RefName>known</RefName>
					</Expr>
				</Predicate>
				<Predicate>
					<Expr>
						<Expr>
							<RefName>birthday</RefName>
						</Expr>
						<Stroke>Next</Stroke>
					</Expr>
					<Rel>Eq</Rel>
					<Expr>
						<Expr>
							<Set>
								<Expr>
									<Expr>
										<RefName>name</RefName>
									</Expr>
									<Stroke>In</Stroke>
								</Expr>
							</Set>
						</Expr>
						<Appl>Ndres</Appl>
						<Expr>
							<RefName>birthday</RefName>
						</Expr>
					</Expr>
				</Predicate>
			</SchemaDef>
			Modify birthday records starts here.
			<SchemaDef>
				<DeclName>ModifyBirthday</DeclName>
				<Predicate>
					<Expr>
						<Expr>
							<RefName>RemoveBirthday</RefName>
						</Expr>
						<Appl>Comp</Appl>
						<Expr>
							<RefName>AddBirthday</RefName>
						</Expr>
					</Expr>
				</Predicate>
			</SchemaDef>
	
			Retrieve birthday records starts here.
			<SchemaDef>
				<DeclName>FindBirthday</DeclName>
				<InclDecl incl="xi">
					<Expr>
						<RefName>BirthdayBook</RefName>
					</Expr>
				</InclDecl>
				<VarDecl>
					<DeclName>name?</DeclName>
					<Expr>
						<RefName>NAME</RefName>
					</Expr>
				</VarDecl>
				<VarDecl>
					<DeclName>date!</DeclName>
					<Expr>
						<RefName>DATE</RefName>
					</Expr>
				</VarDecl>
				<Predicate>
					<Expr>
						<Expr>
							<RefName>name</RefName>
						</Expr>
						<Stroke>In</Stroke>
					</Expr>
					<Rel>In</Rel>
					<Expr>
						<RefName>known</RefName>
					</Expr>
				</Predicate>
				<Predicate>
					<Expr>
						<Parth>
							<Expr>
								<Expr>
									<Expr>
										<RefName>name</RefName>
									</Expr>
									<Stroke>In</Stroke>
								</Expr>
								<Expr>
									<Expr>
										<RefName>date</RefName>
									</Expr>
									<Stroke>Out</Stroke>
								</Expr>
							</Expr>
						</Parth>
					</Expr>
					<Rel>In</Rel>
					<Expr>
						<RefName>birthday</RefName>
					</Expr>
				</Predicate>
			</SchemaDef>
		</Parag>
	</Sect>
</Spec>
