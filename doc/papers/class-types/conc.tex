\section{Conclusions and Discussion}

In this paper, we discuss some of the difficulties encountered for
typechecking Object-Z, such as inheritance, polymorphism, implicit
downcasting, generic classes, and feature renaming. We present the
model for class types for the CZT Object-Z typechecker. This model of
class types is flexible enough to represent the types of class
reference expressions, polymorphic expressions, and class union
expressions, all found in Object-Z, and also to handle renaming and
generic class instantiations.

We also present two type unification algorithms for type inference and
detecting type inconsistencies between expressions. The first enforces
a {\em weak} form of consistency between two class types, and the
second enforces a {\em strong} form. The strong form of type
consistency is used to detect possible implicit downcasts, while the
weak form permits implicit downasts provided there is at least one
legal downcast. The CZT Object-Z typechecker gives users the
flexibility to choose which form of typing to use.

In the alpha version of the typechecker, we have found that the model
of class types presented in this paper is sufficient for detecting
type inconsistencies between Object-Z expressions and it makes type
inference and applying the type rules straightforward. It also fits in
well with the existing Z type system.

\subsection{Future Work}

We intend to explore the possibility of specifying the Object-Z type rules
using an extension of the type-inference rule metalanguage defined in 
\theStandard \cite{isoz}. In addition to this, the continued investigation
into inference techniques for Object-Z types is warranted -- particularly
deriving class types from operation and attribute promotions. 
This will be coordinated with the continued effort developing the
open-source CZT project.
