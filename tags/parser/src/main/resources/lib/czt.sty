%% Style file for Community Z Tools (CZT) Project.
%% This extends oz.sty, which defines all the symbols we need
%% and seems to be widely available.

\usepackage{oz}

% Some standard Z commands
\newenvironment{zsection}{\zed}{\endzed}
\newcommand{\SECTION}{\keyword{section}}
\newcommand{\parents}{\keyword{parents}}
\newcommand{\function}{\keyword{function}}
\newcommand{\generic}{\keyword{generic}}
\newcommand{\relation}{\keyword{relation}}
\newcommand{\leftassoc}{\keyword{leftassoc}}
\newcommand{\rightassoc}{\keyword{rightassoc}}
\newcommand{\LET}{\keyword{let}}
\newcommand{\IF}{\keyword{if}}
\newcommand{\THEN}{\keyword{then}}
\newcommand{\ELSE}{\keyword{else}}

%% These need defining, because they are not defined in oz.sty
\newcommand{\listarg}{\mathrel{,,}}
\newcommand{\varg}{\mathbin{\_}}
\newcommand{\symdiff}{\mathbin{\ominus}}
\newcommand{\plus}{{}^{+}}
\newcommand{\extract}{\mathbin{\ires}}  % \ires is from oz.sty
\newcommand{\negate}{\mathop{-}}
\newcommand{\arithmos}{{\mathbb A}}  % oz.sty loads the AMS fonts
\newcommand{\pipe}{\zpipe}           % \zpipe is from oz.sty

%% These need redefining, because the Z standard requires
%% something different to oz.sty (or to LaTeX, for \star!)
\def\star{{}^{*}}   % we must override standard LaTeX \star! 
\def\infix{\keyword{infix}}          % this overrides the oz.sty \infix.
\def\partition{\keyword{partition}}  % overrides the oz.sty 'partitions'



%% These commands are for the ZPattern extension of Z,
%% which makes it possible to define rewrite rules and inference rules.
%% See zpattern_toolkit.tex for the Z-parseable parts of the definitions.

\newenvironment{zedjoker}[1]{\par$\bigstar$ #1\ }{\hfill\par}

% Rule syntax: \begin{zedrule}{Name} Ant1 \\ Ant2 \derive Concl \end{zedrule}
\newenvironment{zedrule}[1]{\par\textbf{rule }#1\vspace{-2ex}\infrule}{\endinfrule}
\newcommand{\derives}{\derive{}}
\newcommand{\substitute}{\mathrel{\curvearrowleft}}  % U+21B6
\newcommand{\proviso}{\raisebox{0.5ex}{${}_{\blacktriangleright}\ $}}%%or\star
%       This mapping to unicode is now in zpattern_toolkit.tex
%       %%Zprechar \proviso U+22C6    % small star, or
%       %%Zprechar \proviso U+25B8    % small solid triangle  |> )


\newcommand{\Context}{\Gamma}
\newcommand{\notfreein}{\mathbin{\backslash}}
\newcommand{\HasType}{\mathbin{:}} % \small\rlap{$\circ$}{\raisebox{1ex}{$\circ$}}}}
